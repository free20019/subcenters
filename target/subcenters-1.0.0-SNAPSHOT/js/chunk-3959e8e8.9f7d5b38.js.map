{"version":3,"sources":["webpack:///./src/components/RealTimeMonitorVehiclePanel.vue?08e6","webpack:///./src/views/vehicle-monitor/MultiVehicleMonitor.vue?b8a8","webpack:///./src/views/vehicle-monitor/MultiVehicleMonitor.vue?8208","webpack:///src/views/vehicle-monitor/MultiVehicleMonitor.vue","webpack:///./src/views/vehicle-monitor/MultiVehicleMonitor.vue?42da","webpack:///./src/views/vehicle-monitor/MultiVehicleMonitor.vue","webpack:///./node_modules/timers-browserify/main.js","webpack:///./src/assets/image/xhcar/z3.png","webpack:///./src/components/RealTimeMonitorVehiclePanel.vue?04be","webpack:///src/components/RealTimeMonitorVehiclePanel.vue","webpack:///./src/components/RealTimeMonitorVehiclePanel.vue?9ccb","webpack:///./src/components/RealTimeMonitorVehiclePanel.vue","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./src/assets/image/xhcar/k3.png","webpack:///./src/assets/image/xhcar/l3.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","table","positionInfo","data","on","$event","$set","proxy","staticClass","rowclick","scope","domProps","_s","stime","row","STIME","stopPropagation","delRwo","VEHI_NO","staticRenderFns","name","map","vhic","vehicle","vehicleList","vhicsetInterval","address","infoWindow","geocoder","city","radius","vehicleinfo","mapmar","setIntervalVList","mounted","$nextTick","resizeEnable","zoom","methods","getVehicleInfo","clearMap","clearInterval","item","params","append","substring","length","addmar","position","PX","PY","icon","offset","angle","ANGLE","marker","push","markerMouseout","close","createInfoWindowHtml","title","addText","text1","setMap","markerClick","isCustom","content","autoMove","closeWhenClickMap","getAddress","status","res","regeocode","newMapWindow","setCenter","console","log","i","components","RealTimeMonitorVehiclePanel","watch","$message","error","value","destroyed","component","self","window","apply","Function","prototype","Timeout","id","clearFn","_id","_clearFn","exports","setTimeout","call","arguments","clearTimeout","setInterval","timeout","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","setImmediate","global","clearImmediate","module","directives","rawName","expression","staticStyle","model","callback","$$v","companyName","companyList","filterNode","handleNodeClick","queryPlaceholderList","querySearchAsync","queryPlaceholderInfo","handleSelect","handelClearSelectedVehicleClick","handelClearVehicleDataClick","changeVhic","tableDblick","_e","class","VEHI_DONOT","_v","vehicleTypeNum","lx","statusSelection","kc","zc","bj","placeholderIndex","queryPlaceholder","checkVehicleList","lxlist","kclist","zclist","bjlist","is_display","loginType","columns","props","Array","ischeckbox","type","Boolean","defaule","handlegetCompTree","computed","join","selectedVehicleNumber","$refs","tree","filter","val","$listeners","$emit","query","cb","getVehiList","then","label","indexOf","cp","tableToggleSelection","vehicleTableLeft","rows","forEach","singleTable","clearSelection","selection","statisticalResults","statisticalReset","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","Object","getPrototypeOf","toString","process","installNextTickImplementation","canUsePostMessage","installPostMessageImplementation","MessageChannel","installMessageChannelImplementation","createElement","installReadyStateChangeImplementation","installSetTimeoutImplementation","args","task","handle","run","undefined","runIfPresent","nextTick","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","messagePrefix","Math","random","onGlobalMessage","event","source","slice","addEventListener","attachEvent","channel","port1","port2","html","documentElement","script","onreadystatechange","removeChild","appendChild"],"mappings":"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","file":"js/chunk-3959e8e8.9f7d5b38.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RealTimeMonitorVehiclePanel.vue?vue&type=style&index=0&id=59b2269d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RealTimeMonitorVehiclePanel.vue?vue&type=style&index=0&id=59b2269d&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiVehicleMonitor.vue?vue&type=style&index=0&id=4aa2bf42&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiVehicleMonitor.vue?vue&type=style&index=0&id=4aa2bf42&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('t-layout',{attrs:{\"right\":\"340\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('real-time-monitor-vehicle-panel',{attrs:{\"vhic\":_vm.table.positionInfo.data},on:{\"update:vhic\":function($event){return _vm.$set(_vm.table.positionInfo, \"data\", $event)}}})]},proxy:true}])},[_c('t-layout',{attrs:{\"footer\":\"300\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"tw-border__body\"},[_c('el-table',{staticClass:\"tw-table\",attrs:{\"data\":_vm.table.data,\"size\":\"small\",\"border\":\"\"},on:{\"row-click\":_vm.rowclick}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"VEHI_NO\",\"label\":\"车牌号码\",\"min-width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"COMP_NAME\",\"label\":\"分公司\",\"min-width\":\"160\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"VEHI_SIM\",\"label\":\"SIM卡号\",\"width\":\"120\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"MDT_NO\",\"label\":\"终端类型\",\"width\":\"120\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"STIME\",\"label\":\"GPS时间\",\"width\":\"160\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.stime(scope.row.STIME))}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"SPEED\",\"label\":\"GPS速度\",\"width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"STATE\",\"label\":\"车辆状态\",\"width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"ANGLE\",\"label\":\"方向\",\"width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"50\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-delete\",\"size\":\"small\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.delRwo(scope.row.VEHI_NO)}}})]}}])})],1)],1)]},proxy:true}])},[_c('div',{staticClass:\"tw-map-panel\",attrs:{\"id\":\"baidu-map\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 多车监控 -->\n<template>\n  <t-layout right=\"340\">\n    <template v-slot:left>\n      <real-time-monitor-vehicle-panel :vhic.sync=\"table.positionInfo.data\"></real-time-monitor-vehicle-panel>\n    </template>\n    <t-layout footer=\"300\">\n      <div id=\"baidu-map\" class=\"tw-map-panel\"></div>\n      <template v-slot:footer>\n        <div class=\"tw-border__body\">\n          <el-table class=\"tw-table\" :data=\"table.data\" size=\"small\" border @row-click=\"rowclick\">\n            <el-table-column type=\"index\" label=\"序号\" width=\"50\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"VEHI_NO\" label=\"车牌号码\" min-width=\"100\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"COMP_NAME\" label=\"分公司\" min-width=\"160\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"VEHI_SIM\" label=\"SIM卡号\" width=\"120\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"MDT_NO\" label=\"终端类型\" width=\"120\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"STIME\" label=\"GPS时间\" width=\"160\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <span v-text=\"stime(scope.row.STIME)\"></span>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"SPEED\" label=\"GPS速度\" width=\"100\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"STATE\" label=\"车辆状态\" width=\"100\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"ANGLE\" label=\"方向\" width=\"100\" align=\"center\"></el-table-column>\n            <el-table-column label=\"操作\" width=\"50\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"primary\" icon=\"el-icon-delete\" size=\"small\" @click.stop=\"delRwo(scope.row.VEHI_NO)\"></el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </template>\n    </t-layout>\n  </t-layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport RealTimeMonitorVehiclePanel from 'components/RealTimeMonitorVehiclePanel'\nimport AMap from 'AMap';\nimport { setInterval } from 'timers'\nimport {\n  baseURL,\n  freezeData,\n  formatterDateTime,\n  formatterTDateTime,\n  formatterVehicleType,\n  formatterTVehicleType,\n  formatterDirectionType,\n  formatterTDirectionType\n} from 'util'\nimport _ from 'underscore'\nimport $ from 'jquery'\nimport moment from 'moment'\nimport  lxImg from 'images/xhcar/l3.png'\nimport  zcImg from 'images/xhcar/z3.png'\nimport  kcImg from 'images/xhcar/k3.png'\n\nexport default {\n  name: 'MultiVehicleMonitor',\n  data() {\n    return {\n      table: {\n        positionInfo: {\n          data: []\n        },\n        data: [],\n      },\n      map: null,\n      vhic: {\n        vehicle: '',\n        vehicleList: [],\n        vhicsetInterval: null,\n        address:''\n      },\n      infoWindow : new AMap.InfoWindow({ isCustom: true,offset: new AMap.Pixel(0, -30)}),\n      geocoder : new AMap.Geocoder({\n        city: \"010\", //城市设为北京，默认：“全国”\n        radius: 1000 //范围，默认：500\n      }),\n      vehicleinfo: [],\n      mapmar: [],\n      setIntervalVList: null\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.map = new AMap.Map('baidu-map', {\n        resizeEnable: true, //是否监控地图容器尺寸变化\n        zoom: 18\n      });\n    })\n  },\n  methods: {\n    stime(date){\n      return moment(date).format('YYYY-MM-DD HH:mm:ss')\n    },\n    getVehicleInfo: function() {\n      if(this.vhic.vehicleList.length == 0){\n        this.map.clearMap();\n        clearInterval(this.setIntervalVList)\n        return\n      }\n      let vhic = ''\n      _.map(this.vhic.vehicleList, item => {\n        vhic += '\\'' + item + '\\','\n      })\n      let params = new URLSearchParams()\n      params.append('type', '2')\n      params.append('vhic', vhic.substring(0, vhic.length - 1))\n      axios.post('map/getOneVhic', params, { baseURL }).then(res => {\n        this.table.data = res.data || []\n        this.map.clearMap();\n        _.map(this.table.data, item => {\n          this.addmar(item)\n          this.addText(item)\n          if (item.VEHI_NO == this.vhic.vehicle){\n            this.markerClick(item)\n          }\n        })\n      })\n    },\n    addmar(item) {\n      let icon = '';\n      if(item.TYPE == '1') icon = lxImg\n      else{\n        if(item.state == '1') icon = zcImg\n        else icon = kcImg\n      }\n      let marker = new AMap.Marker({\n        position: [item.PX, item.PY],\n        map: this.map,\n        icon: icon,\n        offset: new AMap.Pixel(-16, -16),\n        angle: item.ANGLE,\n      });\n      marker.vehicle = item.VEHI_NO\n      this.mapmar.push(marker)\n      AMap.event.addListener(marker,\"click\",e => {\n        this.markerClick(item)\n      });\n    },\n    markerMouseout() {\n      this.infoWindow.close()\n    },\n    createInfoWindowHtml(item) {\n      let _this = this;\n      var title = $('<span>')\n        .addClass('tw-title')\n        .text(item.VEHI_NO+(item.CARSTATE == '0'?'(精确)':'(非精确)'))\n      var close = $('<span>')\n        .addClass('tw-close')\n        .html('&times;')\n        .on('click', function() {\n          // this.infoWindow.close()\n          _this.markerMouseout()\n        })\n      const compName = item.COMP_NAME || ''\n      const mdtNo = item.MDT_NO || ''\n      const phoneNum = item.VEHI_SIM || ''\n      const speed = item.SPEED+'KM/S' || '无'\n      // const type = item.MDT_SUB_TYPE || ''\n      const address = item.ADDRESS || ''\n      const stime = formatterDateTime(item.STIME)\n      const zdzlx = item.MDT_SUB_TYPE || ''\n      const kzczt = item.STATE == '0'?'重车':'空车'\n      const own_name = item.OWN_NAME || '无'\n      const own_tel = item.OWN_TEL || '无'\n      return $('<div>')\n        .addClass('tw-map-window')\n        .html([\n          $('<div>')\n            .addClass('tw-map-window-header')\n            .html([title, close]),\n          $('<div>')\n            .addClass('tw-map-window-body')\n            .html([\n              `<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">公司名称：</div><div class=\"el-col el-col-18\">${compName}</div></div>`,\n              `<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">终端编号：</div><div class=\"el-col el-col-18\">${mdtNo}</div></div>`,\n              `<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">营运状态：</div><div class=\"el-col el-col-18\">${kzczt}</div></div>`,\n              `<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">SIM卡号：</div><div class=\"el-col el-col-18\">${phoneNum}</div></div>`,\n              `<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">GPS速度：</div><div class=\"el-col el-col-18\">${speed}</div></div>`,\n              `<!--<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">终端类型：</div><div class=\"el-col el-col-18\"></div></div>-->`,\n              `<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">子类型：</div><div class=\"el-col el-col-18\">${zdzlx}</div></div>`,\n              `<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">联系人：</div><div class=\"el-col el-col-18\">${own_name}</div></div>`,\n              `<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">联系电话：</div><div class=\"el-col el-col-18\">${own_tel}</div></div>`,\n              `<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">定位时间：</div><div class=\"el-col el-col-18\">${stime}</div></div>`,\n              `<div class=\"el-row\"><div class=\"el-col el-col-6 tw-align-right\">当前地址：</div><div class=\"el-col el-col-18\">${address}</div></div>`,\n            ])\n        ])\n    },\n    addText(item) {\n      let text1 = new AMap.Text({\n          text:item.VEHI_NO,\n          anchor:'bottom-center', // 设置文本标记锚点\n          cursor:'pointer',\n          offset: new AMap.Pixel(5, 30),\n          style:{\n            // 'padding': '.75rem 1.25rem',\n            // 'margin-bottom': '1rem',\n            'border-radius': '.25rem',\n            'background-color': 'white',\n            'width': '6em',\n            'border-width': 0,\n            'box-shadow': '0 2px 6px 0 rgba(114, 124, 245, .5)',\n            'text-align': 'center',\n            'font-size': '10px',\n            'font-weight':'bold ',\n            'color': 'blue'\n          },\n          position: [item.PX,item.PY]\n      });\n      text1.vehicle = item.VEHI_NO\n      this.mapmar.push(text1)\n      text1.setMap(this.map);\n    },\n    markerClick(item) {\n      const newMapWindow = item => {\n        this.infoWindow = new AMap.InfoWindow({\n          isCustom: true, //使用自定义窗体\n          content: this.createInfoWindowHtml(item)[0],\n          offset: new AMap.Pixel(0, -20),\n          autoMove: true,\n          closeWhenClickMap: true\n        })\n        this.infoWindow.open(this.map, [item.PX, item.PY])\n      }\n      this.geocoder.getAddress([item.PX, item.PY], (status, res) => {\n        if (status === 'complete' && res.regeocode)\n          item.ADDRESS = res.regeocode.formattedAddress\n        else log.error('根据经纬度查询地址失败')\n        newMapWindow(item)\n      })\n      newMapWindow(item)\n      this.map.setCenter([item.PX, item.PY]);\n    },\n    rowclick(row) {\n      this.map.setCenter([row.PX, row.PY]);\n      this.markerClick(row)\n    },\n    delRwo(vhic) {\n      let data = [];\n      for(let i=0; i<this.table.data.length; i++){\n        console.log(this.table.data[i].VEHI_NO)\n        if(this.table.data[i].VEHI_NO != vhic){\n          data.push(this.table.data[i])\n        }\n      }\n      let vehicleList = [];\n      _.map(this.vhic.vehicleList, item => {\n        if(item != vhic) vehicleList.push(item)\n      })\n      this.vhic.vehicleList = vehicleList;\n      this.table.data = data;\n      this.vhic.vehicle = ''\n      this.getVehicleInfo();\n    }\n  },\n  components: {\n    RealTimeMonitorVehiclePanel\n  },\n  watch: {\n    'table.positionInfo.data'(value) {\n      for(let i=0; i<this.vhic.vehicleList.length;i++){\n        if(this.vhic.vehicleList[i] == value[0].VEHI_NO){\n          this.$message.error('该车已在监控列表');\n          return\n        }\n      }\n      this.vhic.vehicle = value[0].VEHI_NO\n      this.vhic.vehicleList.push(value[0].VEHI_NO)\n      this.getVehicleInfo();\n      this.setIntervalVList = setInterval(this.getVehicleInfo(),30000)\n    }\n  },\n  destroyed() {\n    clearInterval(this.setIntervalVList)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tw-border {\n  &__body {\n    height: 100%;\n    padding: 10px;\n    border: 1px solid #eeeeee;\n    // border-left: 1px solid #eeeeee;\n    // border-right: 1px solid #eeeeee;\n    box-sizing: border-box;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiVehicleMonitor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiVehicleMonitor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MultiVehicleMonitor.vue?vue&type=template&id=4aa2bf42&scoped=true&\"\nimport script from \"./MultiVehicleMonitor.vue?vue&type=script&lang=js&\"\nexport * from \"./MultiVehicleMonitor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MultiVehicleMonitor.vue?vue&type=style&index=0&id=4aa2bf42&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4aa2bf42\",\n  null\n  \n)\n\nexport default component.exports","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHRGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxNy0xMS0zMFQxMDowOToxNSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxNy0xMS0zMFQxMDowOToxNSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTctMTEtMzBUMTA6MDk6MTUrMDg6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YTRmNmY4NzUtYTFhMi0yMDQyLWI3NWQtMWMxNDYwYTBiMzQ0IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6OWNlY2YyNjgtODFkMC1lYjRmLTgxZWYtZmU1MjAwOWY3NDk2IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MzAzZmM2OTAtNDczZC1hZjQxLTllYmItZWUwNDVhMDhhNjNkIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MzAzZmM2OTAtNDczZC1hZjQxLTllYmItZWUwNDVhMDhhNjNkIiBzdEV2dDp3aGVuPSIyMDE3LTExLTMwVDEwOjA5OjE1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphNGY2Zjg3NS1hMWEyLTIwNDItYjc1ZC0xYzE0NjBhMGIzNDQiIHN0RXZ0OndoZW49IjIwMTctMTEtMzBUMTA6MDk6MTUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0ZWIwODM2ZC03NDVlLWVkNGMtOTE1NC0yOGNkYTM0NWI0MDk8L3JkZjpsaT4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6ODhkZDA4MzMtMmVkOC01ZjQxLWIwOTMtODNhNjBlOTUwZDEyPC9yZGY6bGk+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmFjZDIwNWU3LTE3Y2QtMDQ0NS1iNjY0LTI0OGE0ZjQwNzVjMzwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDplOTBlZTNkOC0zNmRkLWVlNDktYTE0ZC1mYmM4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\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tw-template-wrapper\"},[_c('t-card-query',{attrs:{\"height\":\"300px\"},scopedSlots:_vm._u([{key:\"query\",fn:function(){return [_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.is_display),expression:\"is_display\"}],staticClass:\"tw-panel__query-input\",staticStyle:{\"width\":\"calc(100% - 38px)\"},attrs:{\"placeholder\":\"请输入公司名称\"},model:{value:(_vm.companyName),callback:function ($$v) {_vm.companyName=$$v},expression:\"companyName\"}}),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.is_display),expression:\"is_display\"}],attrs:{\"icon\":\"el-icon-search\"}})]},proxy:true}])},[_c('el-tree',{ref:\"tree\",staticClass:\"tw-tree\",attrs:{\"data\":_vm.companyList,\"filter-node-method\":_vm.filterNode},on:{\"node-click\":_vm.handleNodeClick}})],1),_c('t-card-query',{attrs:{\"height\":\"calc(100% - 350px)\"},scopedSlots:_vm._u([{key:\"query\",fn:function(){return [_c('el-tooltip',{attrs:{\"content\":_vm.queryPlaceholderList,\"placement\":\"top\"}},[_c('el-autocomplete',{staticClass:\"tw-panel__query-input\",staticStyle:{\"width\":\"calc(100% - 111px)\",\"float\":\"left\",\"margin-right\":\"-1px\"},attrs:{\"fetch-suggestions\":_vm.querySearchAsync,\"placeholder\":_vm.queryPlaceholderInfo,\"popper-class\":\"vehicleWidth\"},on:{\"select\":_vm.handleSelect},model:{value:(_vm.vehicle),callback:function ($$v) {_vm.vehicle=$$v},expression:\"vehicle\"}})],1),_c('el-button',{attrs:{\"icon\":\"el-icon-search\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"tw-icon-rotate el-icon-brush\"},on:{\"click\":_vm.handelClearSelectedVehicleClick}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.handelClearVehicleDataClick}})]},proxy:true}])},[_c('pl-table',{ref:\"vehicleTableLeft\",staticClass:\"tw-table tw-table__towLines tw-item__click\",attrs:{\"datas\":_vm.vehicleList,\"big-data-checkbox\":\"\",\"size\":\"mini\",\"header-drag-style\":\"\",\"pagination-show\":false,\"use-virtual\":\"\"},on:{\"selection-change\":_vm.changeVhic,\"row-dblclick\":_vm.tableDblick}},[(_vm.ischeckbox)?_c('pl-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\",\"width\":\"55\"}}):_vm._e(),_c('pl-table-column',{staticStyle:{\"color\":\"black\"},attrs:{\"prop\":\"SPEED\",\"min-width\":\"120\",\"align\":\"center\",\"label\":\"车牌\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:['tw-radius', scope.row.VEHI_DONOT]}),_vm._v(\"\\n        \"+_vm._s(scope.row.VEHI_NO)+\"\\n        \")]}}])}),_c('pl-table-column',{attrs:{\"prop\":\"SPEED\",\"align\":\"center\",\"label\":\"速度\"}})],1)],1),_c('div',{staticClass:\"tw-list tw-vehicle-status\"},[_c('el-badge',{staticClass:\"tw-list-item\",attrs:{\"type\":\"info\",\"value\":_vm.vehicleTypeNum.lx,\"max\":999}},[_c('div',{staticClass:\"tw-list-wrapper\",on:{\"click\":function($event){return _vm.statusSelection(1)}}},[_c('t-icon',{staticClass:\"tw-list-item__icon\",attrs:{\"name\":\"icon-car\"}}),_c('span',[_vm._v(\"离线\")])],1)]),_c('el-badge',{staticClass:\"tw-list-item\",attrs:{\"type\":\"success\",\"value\":_vm.vehicleTypeNum.kc,\"max\":999}},[_c('div',{staticClass:\"tw-list-wrapper\",on:{\"click\":function($event){return _vm.statusSelection(2)}}},[_c('t-icon',{staticClass:\"tw-list-item__icon\",attrs:{\"name\":\"icon-car\"}}),_c('span',[_vm._v(\"空车\")])],1)]),_c('el-badge',{staticClass:\"tw-list-item\",attrs:{\"type\":\"danger\",\"value\":_vm.vehicleTypeNum.zc,\"max\":999}},[_c('div',{staticClass:\"tw-list-wrapper\",on:{\"click\":function($event){return _vm.statusSelection(3)}}},[_c('t-icon',{staticClass:\"tw-list-item__icon\",attrs:{\"name\":\"icon-car\"}}),_c('span',[_vm._v(\"重车\")])],1)]),_c('el-badge',{staticClass:\"tw-list-item\",attrs:{\"type\":\"warning\",\"value\":_vm.vehicleTypeNum.bj,\"max\":999}},[_c('div',{staticClass:\"tw-list-wrapper\",on:{\"click\":function($event){return _vm.statusSelection(4)}}},[_c('t-icon',{staticClass:\"tw-list-item__icon\",attrs:{\"name\":\"icon-car\"}}),_c('span',[_vm._v(\"报警\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tw-template-wrapper\">\n    <t-card-query height=\"300px\">\n      <template v-slot:query>\n        <el-input v-show=\"is_display\"\n          class=\"tw-panel__query-input\"\n          v-model=\"companyName\"\n          placeholder=\"请输入公司名称\"\n          style=\"width: calc(100% - 38px);\"\n        ></el-input>\n        <el-button icon=\"el-icon-search\" v-show=\"is_display\"></el-button>\n      </template>\n      <el-tree\n        class=\"tw-tree\"\n        :data=\"companyList\"\n        @node-click=\"handleNodeClick\"\n        :filter-node-method=\"filterNode\"\n        ref=\"tree\"\n      ></el-tree>\n    </t-card-query>\n    <t-card-query height=\"calc(100% - 350px)\">\n      <!--calc(100% - 350px)-->\n      <template v-slot:query>\n        <el-tooltip :content=\"queryPlaceholderList\" placement=\"top\">\n          <el-autocomplete\n            class=\"tw-panel__query-input\"\n            :fetch-suggestions=\"querySearchAsync\"\n            :placeholder=\"queryPlaceholderInfo\"\n            style=\"width: calc(100% - 111px); float:left;margin-right: -1px;\"\n            v-model=\"vehicle\"\n            popper-class=\"vehicleWidth\"\n            @select=\"handleSelect\"\n          ></el-autocomplete>\n        </el-tooltip>\n        <el-button icon=\"el-icon-search\"></el-button>\n        <el-button\n          type=\"primary\"\n          icon=\"tw-icon-rotate el-icon-brush\"\n          @click=\"handelClearSelectedVehicleClick\"\n        ></el-button>\n        <el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"handelClearVehicleDataClick\"></el-button>\n      </template>\n      <!--<el-table-->\n        <!--class=\"tw-table tw-table__towLines tw-item__click\"-->\n        <!--:data=\"vehicleList\"-->\n        <!--v-scrollbar:table-->\n        <!--border-->\n        <!--size=\"small\"-->\n        <!--ref=\"vehicleTableLeft\"-->\n        <!--@selection-change=\"changeVhic\"-->\n        <!--@row-dblclick=\"tableDblick\"-->\n      <!--&gt;-->\n        <!--<el-table-column :label=\"selectedVehicleNumber\" align=\"center\">-->\n          <!--<el-table-column v-if=\"ischeckbox\" type=\"selection\" width=\"50\" align=\"center\"></el-table-column>-->\n          <!--<el-table-column label=\"车牌\" min-width=\"120\" align=\"center\" :resizable=\"false\">-->\n            <!--<template v-slot=\"scope\">-->\n              <!--<span :class=\"['tw-radius', scope.row.VEHI_DONOT]\"></span>-->\n              <!--{{scope.row.VEHI_NO}}-->\n            <!--</template>-->\n          <!--</el-table-column>-->\n          <!--<el-table-column prop=\"SPEED\" label=\"速度\" width=\"60\" align=\"center\" :resizable=\"false\"></el-table-column>-->\n        <!--</el-table-column>-->\n      <!--</el-table>-->\n      <pl-table :datas=\"vehicleList\"\n                class=\"tw-table tw-table__towLines tw-item__click\"\n                big-data-checkbox\n                ref=\"vehicleTableLeft\"\n                size=\"mini\"\n                header-drag-style\n                :pagination-show=false\n                use-virtual\n                @selection-change=\"changeVhic\"\n                @row-dblclick=\"tableDblick\">\n        <!--show-overflow-tooltip属性代表超出则内容部分给出提示框-->\n        <pl-table-column v-if=\"ischeckbox\" type=\"selection\" align=\"center\" width=\"55\"/>\n        <pl-table-column prop=\"SPEED\" min-width=\"120\" align=\"center\" label=\"车牌\" style=\"color: black\">\n          <template v-slot=\"scope\">\n          <span :class=\"['tw-radius', scope.row.VEHI_DONOT]\"></span>\n          {{scope.row.VEHI_NO}}\n          </template>\n        </pl-table-column>\n        <pl-table-column prop=\"SPEED\" align=\"center\" label=\"速度\"/>\n      </pl-table>\n    </t-card-query>\n    <div class=\"tw-list tw-vehicle-status\">\n      <el-badge class=\"tw-list-item\" type=\"info\" :value=\"vehicleTypeNum.lx\" :max=\"999\">\n        <div class=\"tw-list-wrapper\" @click=\"statusSelection(1)\">\n          <t-icon class=\"tw-list-item__icon\" name=\"icon-car\"></t-icon>\n          <span>离线</span>\n        </div>\n      </el-badge>\n      <el-badge class=\"tw-list-item\" type=\"success\" :value=\"vehicleTypeNum.kc\" :max=\"999\">\n        <div class=\"tw-list-wrapper\" @click=\"statusSelection(2)\">\n          <t-icon class=\"tw-list-item__icon\" name=\"icon-car\"></t-icon>\n          <span>空车</span>\n        </div>\n      </el-badge>\n      <el-badge class=\"tw-list-item\" type=\"danger\" :value=\"vehicleTypeNum.zc\" :max=\"999\">\n        <div class=\"tw-list-wrapper\" @click=\"statusSelection(3)\">\n          <t-icon class=\"tw-list-item__icon\" name=\"icon-car\"></t-icon>\n          <span>重车</span>\n        </div>\n      </el-badge>\n      <el-badge class=\"tw-list-item\" type=\"warning\" :value=\"vehicleTypeNum.bj\" :max=\"999\">\n        <div class=\"tw-list-wrapper\" @click=\"statusSelection(4)\">\n          <t-icon class=\"tw-list-item__icon\" name=\"icon-car\"></t-icon>\n          <span>报警</span>\n        </div>\n      </el-badge>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { baseURL } from 'util'\nimport axios from 'axios'\nimport _ from 'underscore'\n\nexport default {\n  name: 'RealTimeMonitorVehiclePanel',\n  data() {\n    return {\n      companyList: [],\n      placeholderIndex: 0,\n      queryPlaceholder: ['车牌号码', '终端编号', 'SIM卡号'],\n      vehicleList: [],\n      companyName: '',\n      vehicle: '',\n      checkVehicleList: [],\n      vehicleTypeNum: {\n        lx: 0,\n        kc: 0,\n        zc: 0,\n        bj: 0,\n        lxlist: [],\n        kclist: [],\n        zclist: [],\n        bjlist: []\n      },\n      is_display: false,\n      loginType: '',\n      columns: [\n        {}\n      ]\n    }\n  },\n  props: {\n    vhic: Array,\n    ischeckbox: {\n      type: Boolean,\n      defaule: false\n    }\n  },\n  mounted() {\n    setInterval(() => this.placeholderIndex++, 3000)\n    this.companyList = []\n    this.vehicleList = []\n    this.handlegetCompTree()\n  },\n  computed: {\n    queryPlaceholderInfo() {\n      return '请输入' + this.queryPlaceholder[this.placeholderIndex % 3]\n    },\n    queryPlaceholderList() {\n      return '可输入' + this.queryPlaceholder.join('、')\n    },\n    selectedVehicleNumber() {\n      return `车辆数：${this.vehicleList.length}辆`\n    }\n  },\n  watch: {\n    companyName(val) {\n      this.$refs.tree.filter(val)\n    },\n    checkVehicleList(val) {\n      if (this.$listeners['update:vhic']) this.$emit('update:vhic', val)\n    },\n    vhic(val) {\n      this.checkVehicleList = val\n    },\n    vehicleList(value) {\n      console.log(value)\n    }\n  },\n  methods: {\n    /**车辆查找输入框中输入3位以上显示内容**/\n    querySearchAsync(query, cb) {\n      if (query.length < 3) return cb([])\n      this.getVehiList(query).then(res => {\n        cb(\n          (res.data &&\n            _.map(res.data, item => {\n              return { value: item.INFO, label: item.VEHI_NO }\n            })) ||\n            []\n        )\n      })\n    },\n    /**查询车辆**/\n    getVehiList(val) {\n      let params = new URLSearchParams()\n      params.append('vhic', val)\n      return axios.post('map/getVhic', params, { baseURL })\n    },\n    /**车辆查找输入框中输入3位以上显示内容后选中一条后执行**/\n    handleSelect(item) {\n      let params = new URLSearchParams()\n      params.append('type', '1')\n      params.append('vhic', item.label)\n      axios.post('map/getOneVhic', params, { baseURL }).then(res => {\n        this.statisticalReset()\n        this.vehicleList = res.data\n        this.statisticalResults()\n      })\n    },\n    /**对树节点进行筛选时执行的方法，返回 true 表示这个节点可以显示，返回 false 则表示这个节点会被隐藏**/\n    filterNode(value, data) {\n      if (!value) return true\n      return data.label.indexOf(value) !== -1\n    },\n    /**获取公司树结构**/\n    handlegetCompTree() {\n      let loginType = this.$cookies.get('loginType')\n      this.loginType = loginType\n      if(loginType == '0'){\n        // this.loginType.compDisplay = true\n        this.is_display = true\n        axios.get('map/getComp', { baseURL }).then(res => {\n          this.companyList = res.data || []\n        })\n      }else if(loginType == '1'){\n        axios.get('map/getClzTree', { baseURL }).then(res => {\n          this.companyList = res.data || []\n        })\n      }\n    },\n    /**公司树结构点击事件 */\n    handleNodeClick(data) {\n      let params = new URLSearchParams()\n      if(this.loginType == '0'){\n        params.append('id', data.value)\n        axios.post('map/getVhicList', params, { baseURL }).then(res => {\n          this.statisticalReset()\n          this.vehicleList = res.data\n          this.statisticalResults()\n        })\n      }else if(this.loginType == '1'){\n       console.log(data)\n        params.append('cp', data.cp)\n        axios.post('map/getClzVhic', params, { baseURL }).then(res => {\n          this.statisticalReset()\n          this.vehicleList = Object.freeze(res.data)\n          this.statisticalResults()\n        })\n      }\n    },\n    /**清除车辆表格选中的状态 */\n    handelClearSelectedVehicleClick() {\n      this.tableToggleSelection()\n    },\n    /**删除车辆表格的数据 */\n    handelClearVehicleDataClick() {\n      this.vehicleList = []\n    },\n    /**\n     * 表格多选按钮的选中与清除\n     * @param {*} rows :选中的数据\n     */\n    tableToggleSelection(rows) {\n      console.log(this.$refs.vehicleTableLeft)\n      if (rows) {\n        rows.forEach(row => {\n          this.$refs.vehicleTableLeft.$refs.singleTable.toggleRowSelection(row)\n        })\n      } else {\n        this.$refs.vehicleTableLeft.$refs.singleTable.clearSelection()\n      }\n    },\n    /**表格复选框选中**/\n    changeVhic(selection) {\n      if (!this.ischeckbox) return\n      this.checkVehicleList = selection\n    },\n    tableDblick(row) {\n      if (this.ischeckbox) return\n      this.checkVehicleList = []\n      this.checkVehicleList = [row]\n    },\n    /**点击公司或者查找车辆将数据结果各种类型的车辆统计出来**/\n    statisticalResults() {\n      _.map(this.vehicleList, item => {\n        if (item.VEHI_DONOT == 'tw-radius-offLine') {\n          this.vehicleTypeNum.lx++\n          this.vehicleTypeNum.lxlist.push(item)\n        } else if (item.VEHI_DONOT == 'tw-radius-emptyCar') {\n          this.vehicleTypeNum.kc++\n          this.vehicleTypeNum.kclist.push(item)\n        } else if (item.VEHI_DONOT == 'tw-radius-heavyCar') {\n          this.vehicleTypeNum.zc++\n          this.vehicleTypeNum.zclist.push(item)\n        } else if (item.VEHI_DONOT == 'tw-radius-callPolice') {\n          this.vehicleTypeNum.bj++\n          this.vehicleTypeNum.bjlist.push(item)\n        }\n      })\n    },\n    /**车辆类型统计类型重置**/\n    statisticalReset() {\n      this.vehicleTypeNum.lx = 0\n      this.vehicleTypeNum.lxlist = []\n      this.vehicleTypeNum.kc = 0\n      this.vehicleTypeNum.kclist = []\n      this.vehicleTypeNum.zc = 0\n      this.vehicleTypeNum.zclist = []\n      this.vehicleTypeNum.bj = 0\n      this.vehicleTypeNum.bjlist = []\n    },\n    /**车辆类型状态选中**/\n    statusSelection(type) {\n      this.tableToggleSelection()\n      if (type == 1) {\n        this.tableToggleSelection(this.vehicleTypeNum.lxlist)\n        return\n      } else if (type == 2) {\n        this.tableToggleSelection(this.vehicleTypeNum.kclist)\n        return\n      } else if (type == 3) {\n        this.tableToggleSelection(this.vehicleTypeNum.zclist)\n        return\n      } else if (type == 4) {\n        this.tableToggleSelection(this.vehicleTypeNum.bjlist)\n        return\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tw-list {\n  display: block;\n  height: 40px;\n  margin-top: -10px;\n  &-item {\n    display: inline-block;\n    width: 25%;\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n    cursor: pointer;\n\n    &__icon {\n      margin-right: 5px;\n    }\n    &:nth-child(1) {\n      .tw-list-item__icon {\n        color: #909399;\n      }\n    }\n    &:nth-child(2) {\n      .tw-list-item__icon {\n        color: #67c23a;\n      }\n    }\n    &:nth-child(3) {\n      .tw-list-item__icon {\n        color: #f56c6c;\n      }\n    }\n    &:nth-child(4) {\n      .tw-list-item__icon {\n        color: #e6a23c;\n      }\n    }\n  }\n  &-wrapper {\n    height: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RealTimeMonitorVehiclePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RealTimeMonitorVehiclePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RealTimeMonitorVehiclePanel.vue?vue&type=template&id=59b2269d&scoped=true&\"\nimport script from \"./RealTimeMonitorVehiclePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./RealTimeMonitorVehiclePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RealTimeMonitorVehiclePanel.vue?vue&type=style&index=0&id=59b2269d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59b2269d\",\n  null\n  \n)\n\nexport default component.exports","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","module.exports = __webpack_public_path__ + \"img/k3.288be509.png\";","module.exports = __webpack_public_path__ + \"img/l3.e3702d79.png\";"],"sourceRoot":""}