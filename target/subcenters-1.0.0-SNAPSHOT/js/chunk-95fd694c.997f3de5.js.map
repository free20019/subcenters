{"version":3,"sources":["webpack:///./src/views/Index.vue?c3a0","webpack:///./src/views/Index.vue?23d9","webpack:///./src/assets/js/menu.js","webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?b8ab","webpack:///./src/views/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","scopedSlots","_u","key","fn","staticClass","_v","_l","item","id","icon","title","menuGroupActive","on","handleMenuGroupTitleClick","child","href","$event","handleMenuItemClick","class","_s","handleMenuModalClick","_e","realname","handleCloseClick","routerName","proxy","alarm","table","isAlarmNum","handleCallPoliceClick","num","dialog","display","$set","data","pageSize","scope","domProps","stime","row","STIME","staticRenderFns","menuList","fullPath","childrenMenuList","cljk","cxfx","sjtj","jcsj","hjgl","getMenu","filter","_","map","ci","children","_item","indexOf","name","mounted","getLoginType","getMenuList","getEmergencyAlarm","setInterval","computed","$route","methods","console","log","res","info","$confirm","confirmButtonText","cancelButtonText","type","vehilist","i","ALARMSTATUS","length","one","substring","push","component"],"mappings":"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AAM,0BACNM,KAAM,gBAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,uBACNM,KAAM,cAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,yBACNM,KAAM,cAER,CACEP,GAAI,SACJE,MAAO,SACPD,KAAM,6BACNM,KAAM,gBAER,CACEP,GAAI,SACJE,MAAO,SACPD,KAAM,wBACNM,KAAM,gBAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,mBACNM,KAAM,cAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,2BACNM,KAAM,eAGVgC,KAAM,CACJ,CACEvC,GAAI,QACJE,MAAO,QACPD,KAAM,YACNM,KAAM,eAER,CACEP,GAAI,SACJE,MAAO,SACPD,KAAM,oCACNM,KAAM,gBAER,CACEP,GAAI,SACJE,MAAO,WACPD,KAAM,mCACNM,KAAM,gBAER,CACEP,GAAI,SACJE,MAAO,UACPD,KAAM,2CACNM,KAAM,eAER,CACEP,GAAI,QACJE,MAAO,UACPD,KAAM,6BACNM,KAAM,eAER,CACEP,GAAI,QACJE,MAAO,UACPD,KAAM,iCACNM,KAAM,eAER,CACEP,GAAI,QACJE,MAAO,UACPD,KAAM,qCACNM,KAAM,eAER,CACEP,GAAI,SACJE,MAAO,WACPD,KAAM,2BACNM,KAAM,gBAER,CACEP,GAAI,SACJE,MAAO,WACPD,KAAM,YACNM,KAAM,gBAER,CACEP,GAAI,QACJE,MAAO,QACPD,KAAM,2BACNM,KAAM,gBAGViC,KAAM,CACJ,CACExC,GAAI,QACJE,MAAO,QACPD,KAAM,8BACNM,KAAM,eAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,qBACNM,KAAM,cAQR,CACEP,GAAI,SACJE,MAAO,SACPD,KAAM,gCACNM,KAAM,gBAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,qBACNM,KAAM,cAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,oBACNM,KAAM,cAER,CACEP,GAAI,UACJE,MAAO,UACPD,KAAM,0CACNM,KAAM,iBAER,CACEP,GAAI,UACJE,MAAO,UACPD,KAAM,mCACNM,KAAM,kBAIVkC,KAAM,CACJ,CACEzC,GAAI,OACJE,MAAO,OACPD,KAAM,iCACNM,KAAM,cAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,kCACNM,KAAM,cAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,gCACNM,KAAM,cAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,wBACNM,KAAM,cAER,CACEP,GAAI,SACJE,MAAO,SACPD,KAAM,iCACNM,KAAM,gBAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,gCACNM,KAAM,cAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,iCACNM,KAAM,cAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,yBACNM,KAAM,cAER,CACEP,GAAI,OACJE,MAAO,OACPD,KAAM,2BACNM,KAAM,gBAKL,SAASmC,EAAQC,GACtB,OAAOC,IAAEC,IAAIX,EAAU,SAAAnC,GACrB,IAAM+C,EAAKV,EAAiBrC,EAAKC,IAC3B+C,EAAWH,IAAED,OAAOG,EAAI,SAAAE,GAAK,OAAIL,EAAOM,QAAQD,EAAMhD,KAAO,IACnE,YAAYD,EAAZ,CAAkBgD,e,omBC7QtB,OACEG,KAAM,QACNxB,KAFF,WAGI,MAAO,CACLQ,SAAU,GACV/B,gBAAiB,GACjBW,SAAU,GACVS,OAAQ,CACNC,SAAS,EACTtB,MAAO,QAETiB,MAAO,CACLO,KAAM,GACNC,SAAU,GACVP,YAAY,EACZE,IAAK,KAIX6B,QAnBF,WAoBIlE,KAAKmE,eACLnE,KAAKoE,cACLpE,KAAKqE,oBACLC,YAAYtE,KAAKqE,kBAArB,MAEEE,SAAU,EAAZ,GACA,6BADA,CAEIxC,WAFJ,WAGM,OAAO/B,KAAKwE,OAAOP,MAAQ,MAG/BQ,QAAS,CACP5B,MADJ,SACA,GACM,OAAO,IAAb,kCAEIsB,aAJJ,WAIA,WACM,EAAN,yDACQO,QAAQC,IAAI,MAApB,kBACQD,QAAQC,IAAI,KAApB,eACQ,EAAR,2CACQ,EAAR,wCAGIP,YAZJ,WAYA,WACM,EAAN,uDAEQ,GADAM,QAAQC,IAAIC,EAAInC,MACxB,qBACU,EAAV,8BACA,CACU,EAAV,yBACU,IAAV,eACUiC,QAAQG,KAAK,eAAgB,GAC7B,EAAV,kBAMIzD,0BA3BJ,SA2BA,GACUpB,KAAKkB,kBAAoBH,EAAIf,KAAKkB,gBAAkB,GAC9D,wBAEIM,oBA/BJ,SA+BA,GACMkD,QAAQC,IAAI7D,GACM,QAAdA,EAAKG,MACP,EAAR,EACA,KACA,sGAEA,mBACA,iBACQ,EAAR,EACA,KACA,qGAEA,mBAEMjB,KAAK2B,wBAEPA,qBAhDJ,WAiDM3B,KAAKkB,gBAAkB,IAEzBY,iBAnDJ,WAmDA,WACM9B,KAAK8E,SAAS,QAAS,KAAM,CAC3BC,kBAAmB,KACnBC,iBAAkB,KAClBC,KAAM,YACd,gBACQ,EAAR,0CACQ,EAAR,6BAGI7C,sBA7DJ,WA8DA,mBACA,yBAEIiC,kBAjEJ,WAiEA,WACM,EAAN,0DAIQ,IAHA,IAAR,iCACA,KACA,KACA,oBACA,iDACkD,GAAlCa,EAASC,GAAGC,YAAYC,SAC1BC,EAAMJ,EAASC,GAAGC,YAAYG,UAAU,EAAG,GAEzD,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QAGgB9C,EAAK+C,KAAKN,EAASC,KAK3B,EAAR,aACA,aACU,EAAV,mBACU,EAAV,0BC1M+U,I,wBCQ3UM,EAAY,eACd,EACA3F,EACAkD,GACA,EACA,KACA,WACA,MAIa,aAAAyC,E","file":"js/chunk-95fd694c.997f3de5.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=1&id=601d81b8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=1&id=601d81b8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('t-layout',{staticStyle:{\"overflow\":\"hidden\"},attrs:{\"header\":\"75\",\"header-class\":\"tw-header\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"tw-header\"},[_vm._v(\"出租车分中心监控平台\")]),_c('div',{staticClass:\"tw-menu-nav\"},[_vm._l((_vm.menuList),function(item){return _c('t-menu-group',{key:item.id,staticClass:\"tw-menu-nav-item\",attrs:{\"tpClass\":\"tw-menu-nav\",\"id\":item.id,\"icon\":item.icon,\"title\":item.title,\"visible\":_vm.menuGroupActive === item.id},on:{\"title-click\":_vm.handleMenuGroupTitleClick}},_vm._l((item.children),function(child){return _c('t-menu-item',{key:child.id,attrs:{\"url\":child.href},on:{\"menu-item-click\":function($event){return _vm.handleMenuItemClick(child)}}},[_c('i',{staticClass:\"tw-icon-img\",class:child.icon}),_c('span',{staticClass:\"tw-title\"},[_vm._v(_vm._s(child.title))])])}),1)}),_c('transition',{attrs:{\"name\":\"menu-modal\"}},[(_vm.menuGroupActive)?_c('div',{staticClass:\"tw-menu-modal\",on:{\"click\":_vm.handleMenuModalClick}}):_vm._e()])],2),_c('div',{staticClass:\"tw-system-box\"},[_c('div',{staticClass:\"tw-system-item\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\"\\n        \"+_vm._s(_vm.realname)+\"\\n      \")]),_c('div',{staticClass:\"tw-system-item\"},[_c('i',{staticClass:\"el-icon-switch-button\",on:{\"click\":_vm.handleCloseClick}})])]),_c('div',{staticClass:\"tw-heading-box\"},[_c('i',{staticClass:\"el-icon-caret-right\"}),_vm._v(\"\\n      \"+_vm._s(_vm.routerName)+\"\\n    \")])]},proxy:true}])},[_c('keep-alive',[_c('router-view')],1),_c('div',{staticClass:\"tw-box tw-call-police iconfont icon-call-police\",class:{alarm: _vm.table.isAlarmNum},on:{\"click\":_vm.handleCallPoliceClick}},[(_vm.table.isAlarmNum)?_c('div',{staticClass:\"tw-num\"},[_vm._v(_vm._s(_vm.table.num))]):_vm._e()]),_c('el-dialog',{staticClass:\"tw-dialog\",attrs:{\"title\":_vm.dialog.title,\"visible\":_vm.dialog.display,\"width\":\"900px\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog, \"display\", $event)}}},[_c('t-table-page',{attrs:{\"data\":_vm.table.data,\"height\":\"560\",\"page-size\":_vm.table.pageSize}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"编号\",\"align\":\"center\",\"width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"COMP_NAME\",\"label\":\"公司名称\",\"align\":\"center\",\"width\":\"250\"}}),_c('el-table-column',{attrs:{\"prop\":\"VEHI_NO\",\"label\":\"车牌号码\",\"align\":\"center\",\"width\":\"90\"}}),_c('el-table-column',{attrs:{\"prop\":\"MDT_NO\",\"label\":\"终端编号\",\"align\":\"center\",\"width\":\"110\"}}),_c('el-table-column',{attrs:{\"prop\":\"VEHI_SIM\",\"label\":\"SIM卡号\",\"align\":\"center\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"SPEED\",\"label\":\"速度(KM/H)\",\"align\":\"center\",\"width\":\"90\"}}),_c('el-table-column',{attrs:{\"prop\":\"STIME\",\"label\":\"报警时间\",\"align\":\"center\",\"min-width\":\"130\",\"show-overflow-tooltip\":\"\",\"resizable\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.stime(scope.row.STIME))}})]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _ from 'underscore'\n\nconst menuList = [\n  {\n    id: 'cljk',\n    title: '车辆监控',\n    icon: 'icon-vehicle-monitor',\n    fullPath: '/cljk'\n  },\n  // { id: 'lsgj', title: '历史轨迹', icon: 'icon-kefu', fullPath: '/lsgj' },\n  // { id: 'czsw', title: '查找失物', icon: 'icon-kefu', fullPath: '/czsw' },\n  {\n    id: 'cxfx',\n    title: '查询分析',\n    icon: 'icon-query-analysis',\n    fullPath: '/cxfx'\n  },\n  {\n    id: 'sjtj',\n    title: '数据统计',\n    icon: 'icon-data-statistics',\n    fullPath: '/sjtj'\n  },\n  {\n    id: 'hjgl',\n    title: '函件管理',\n    icon: 'icon-mail-manage',\n    fullPath: '/hjgl'\n  },\n  { id: 'jcsj', title: '基础数据', icon: 'icon-basic-data', fullPath: '/jcsj' }\n]\n\nconst childrenMenuList = {\n  cljk: [\n    {\n      id: 'yyts',\n      title: '营运态势',\n      icon: 'tw-img-operation',\n      href: '/cljk/yyts'\n    },\n    {\n      id: 'wzjk',\n      title: '位置监控',\n      icon: 'tw-img-position',\n      href: '/cljk/wzjk'\n    },\n    {\n      id: 'dcjk',\n      title: '多车监控',\n      icon: 'tw-img-multiple-cars',\n      href: '/cljk/dcjk'\n    },\n    {\n      id: 'fpjk',\n      title: '分屏监控',\n      icon: 'tw-img-split-screen',\n      href: '/cljk/fpjk'\n    },\n    {\n      id: 'lsgj',\n      title: '历史轨迹',\n      icon: 'tw-img-historical-track',\n      href: '/cljk/lsgj'\n    },\n    {\n      id: 'qyjk',\n      title: '区域监控',\n      icon: 'tw-img-region',\n      href: '/cljk/qyjk'\n    },\n    // {\n    //   id: 'dzwl',\n    //   title: '电子围栏',\n    //   icon: 'tw-img-electric-fence',\n    //   href: '/cljk/dzwl'\n    // },\n    // {\n    //   id: 'zdqyjk',\n    //   title: '重点区域监控',\n    //   icon: 'tw-img-key-area',\n    //   href: '/cljk/zdqyjk'\n    // },\n    {\n      id: 'hksp',\n      title: '海康视频',\n      icon: 'tw-img-haikang',\n      href: '/cljk/hksp'\n    },\n    { id: 'tysp', title: '通用视频', icon: 'tw-img-video', href: '/cljk/tysp' },\n    {\n      id: 'xxxf',\n      title: '消息下发',\n      icon: 'tw-img-message',\n      href: '/cljk/xxxf'\n    },\n    {\n      id: 'cssz',\n      title: '参数设置',\n      icon: 'tw-img-message',\n      href: '/cljk/cssz'\n    }\n  ],\n  // lsgj: [],\n  // czsw: [],\n  cxfx: [\n    {\n      id: 'sdqxbb',\n      title: '速度曲线报表',\n      icon: 'tw-img-speed-curve',\n      href: '/cljk/sdqxbb'\n    },\n    {\n      id: 'czsw',\n      title: '查找失物(全部)',\n      icon: 'tw-img-lost-search',\n      href: '/cljk/czsw'\n    },\n    {\n      id: 'czswbf',\n      title: '查找失物(部分)',\n      icon: 'tw-img-lost-search-b',\n      href: '/cljk/czswbf'\n    },\n    {\n      id: 'yyjlcx',\n      title: '营运记录查询',\n      icon: 'tw-img-operate-record',\n      href: '/cljk/yyjlcx'\n    },\n    {\n      id: 'yysjtj',\n      title: '营运数据统计',\n      icon: 'tw-img-operational-data',\n      href: '/cljk/yysjtj'\n    },\n    {\n      id: 'yyrb',\n      title: '营运日报',\n      icon: 'tw-img-operate-daily',\n      href: '/cljk/yyrb'\n    },\n    {\n      id: 'yyyb',\n      title: '营运月报',\n      icon: 'tw-img-operate-monthly',\n      href: '/cljk/yyyb'\n    },\n    {\n      id: 'wxjlcx',\n      title: '维修记录查询',\n      icon: 'tw-img-maintenance-records',\n      href: '/cljk/wxjlcx'\n    },\n    {\n      id: 'xxjlcx',\n      title: '消息记录查询',\n      icon: 'tw-img-message-record',\n      href: '/cljk/xxjlcx'\n    },\n    {\n      id: 'wzcx',\n      title: '违章查询',\n      icon: 'tw-img-violation',\n      href: '/cljk/wzcx'\n    },\n    {\n      id: 'tscx',\n      title: '投诉查询',\n      icon: 'tw-img-complaint-inquiry',\n      href: '/cljk/tscx'\n    }\n  ],\n  sjtj: [\n    {\n      id: 'szltj',\n      title: '实载率统计',\n      icon: 'icon-kefu',\n      href: '/sjtj/szltj'\n    },\n    {\n      id: 'dccltj',\n      title: '单车里程统计',\n      icon: 'tw-img-bicycle-mileage-statistics',\n      href: '/sjtj/dccltj'\n    },\n    {\n      id: 'clsxtj',\n      title: '车辆上线情况统计',\n      icon: 'tw-img-vehicle-online-statistics',\n      href: '/sjtj/clsxtj'\n    },\n    {\n      id: 'wysjcl',\n      title: '无营运数据车辆',\n      icon: 'tw-img-vehicles-without-operational-data',\n      href: '/sjtj/wyysj'\n    },\n    {\n      id: 'wsxcl',\n      title: '未上线车辆查询',\n      icon: 'tw-img-vehicles-not-online',\n      href: '/sjtj/wsxcl'\n    },\n    {\n      id: 'sxwyy',\n      title: '上线无营运车辆',\n      icon: 'tw-img-no-operational-vehicles',\n      href: '/sjtj/sxwyy'\n    },\n    {\n      id: 'yywsx',\n      title: '营运未上线车辆',\n      icon: 'tw-img-off-line-vehicles-operation',\n      href: '/sjtj/yywsx'\n    },\n    {\n      id: 'wsxwyy',\n      title: '未上线未营运车辆',\n      icon: 'tw-img-unlisted-vehicles',\n      href: '/sjtj/wsxwyy'\n    },\n    {\n      id: 'wkzcbh',\n      title: '无空重车变化车辆',\n      icon: 'icon-kefu',\n      href: '/sjtj/wkzcbh'\n    },\n    {\n      id: 'wqdqt',\n      title: '无签到签退',\n      icon: 'tw-img-no-sign-check-out',\n      href: '/sjtj/wqdqt'\n    }\n  ],\n  jcsj: [\n    {\n      id: 'clzgl',\n      title: '车辆组管理',\n      icon: 'tw-img-vehicle-group-manage',\n      href: '/jcsj/clzgl'\n    },\n    {\n      id: 'qygl',\n      title: '区域管理',\n      icon: 'tw-img-area-manage',\n      href: '/jcsj/qygl'\n    },\n    // {\n    //   id: 'dzwlgl',\n    //   title: '电子围栏管理',\n    //   icon: 'icon-kefu',\n    //   href: '/jcsj/dzwlgl'\n    // },\n    {\n      id: 'ptsyjl',\n      title: '平台使用记录',\n      icon: 'tw-img-platform-usage-records',\n      href: '/jcsj/ptsyjl'\n    },\n    {\n      id: 'yhgl',\n      title: '用户管理',\n      icon: 'tw-img-user-manage',\n      href: '/jcsj/yhgl'\n    },\n    {\n      id: 'gwgl',\n      title: '岗位管理',\n      icon: 'tw-img-job-manage',\n      href: '/jcsj/gwgl'\n    },\n    {\n      id: 'dlclzgl',\n      title: '独立车辆组管理',\n      icon: 'tw-img-independent-vehicle-group-manage',\n      href: '/jcsj/dlclzgl'\n    },\n    {\n      id: 'clzyhgl',\n      title: '车辆组用户管理',\n      icon: 'tw-img-vehicle-group-user-manage',\n      href: '/jcsj/clzyhgl'\n    }\n    // { id: 'qxgl', title: '权限管理', icon: 'tw-img-authority-manage', href: '/jcsj/qxgl' }\n  ],\n  hjgl: [\n    {\n      id: 'zrsq',\n      title: '转入申请',\n      icon: 'tw-img-in-transfer-application',\n      href: '/hjgl/zrsq'\n    },\n    {\n      id: 'zcsq',\n      title: '转出申请',\n      icon: 'tw-img-out-transfer-application',\n      href: '/hjgl/zcsq'\n    },\n    {\n      id: 'btsq',\n      title: '报停申请',\n      icon: 'tw-img-application-suspension',\n      href: '/hjgl/btsq'\n    },\n    {\n      id: 'bgsq',\n      title: '变更申请',\n      icon: 'tw-img-change-request',\n      href: '/hjgl/bgsq'\n    },\n    {\n      id: 'sjjrsq',\n      title: '数据接入申请',\n      icon: 'tw-img-data-access-application',\n      href: '/hjgl/sjjrsq'\n    },\n    {\n      id: 'zrtj',\n      title: '转入统计',\n      icon: 'tw-img-in-transfer-statistics',\n      href: '/hjgl/zrtj'\n    },\n    {\n      id: 'zctj',\n      title: '转出统计',\n      icon: 'tw-img-out-transfer-statistics',\n      href: '/hjgl/zctj'\n    },\n    {\n      id: 'bttj',\n      title: '报停统计',\n      icon: 'tw-img-stop-statistics',\n      href: '/hjgl/bttj'\n    },\n    {\n      id: 'bgtj',\n      title: '变更统计',\n      icon: 'tw-img-change-statistics',\n      href: '/hjgl/bgtj'\n    }\n  ]\n}\n\nexport function getMenu(filter) {\n  return _.map(menuList, item => {\n    const ci = childrenMenuList[item.id]\n    const children = _.filter(ci, _item => filter.indexOf(_item.id) >= 0)\n    return { ...item, children }\n  })\n}\n","<template>\n  <t-layout header=\"75\" header-class=\"tw-header\" style=\"overflow: hidden;\">\n    <template v-slot:header>\n      <div class=\"tw-header\">出租车分中心监控平台</div>\n      <div class=\"tw-menu-nav\">\n        <t-menu-group\n          class=\"tw-menu-nav-item\"\n          tpClass=\"tw-menu-nav\"\n          v-for=\"item in menuList\"\n          :key=\"item.id\"\n          :id=\"item.id\"\n          :icon=\"item.icon\"\n          :title=\"item.title\"\n          @title-click=\"handleMenuGroupTitleClick\"\n          :visible=\"menuGroupActive === item.id\"\n        >\n          <t-menu-item\n            v-for=\"child in item.children\"\n            :key=\"child.id\"\n            :url=\"child.href\"\n            @menu-item-click=\"handleMenuItemClick(child)\"\n          >\n            <i class=\"tw-icon-img\" :class=\"child.icon\"></i>\n            <span class=\"tw-title\">{{child.title}}</span>\n          </t-menu-item>\n        </t-menu-group>\n        <transition name=\"menu-modal\">\n          <div class=\"tw-menu-modal\" v-if=\"menuGroupActive\" @click=\"handleMenuModalClick\"></div>\n        </transition>\n      </div>\n      <div class=\"tw-system-box\">\n        <div class=\"tw-system-item\">\n          <i class=\"el-icon-user\"></i>\n          {{realname}}\n        </div>\n        <div class=\"tw-system-item\">\n          <i class=\"el-icon-switch-button\" @click=\"handleCloseClick\"></i>\n        </div>\n      </div>\n      <div class=\"tw-heading-box\">\n        <i class=\"el-icon-caret-right\"></i>\n        {{routerName}}\n      </div>\n    </template>\n    <keep-alive>\n      <router-view></router-view>\n    </keep-alive>\n    <div\n      class=\"tw-box tw-call-police iconfont icon-call-police\"\n      :class=\"{alarm: table.isAlarmNum}\"\n      @click=\"handleCallPoliceClick\"\n    >\n      <div class=\"tw-num\" v-if=\"table.isAlarmNum\">{{table.num}}</div>\n    </div>\n    <el-dialog class=\"tw-dialog\" :title=\"dialog.title\" :visible.sync=\"dialog.display\" width=\"900px\">\n      <t-table-page :data=\"table.data\" height=\"560\" :page-size=\"table.pageSize\">\n        <el-table-column type=\"index\" label=\"编号\" align=\"center\" width=\"60\"></el-table-column>\n        <el-table-column prop=\"COMP_NAME\" label=\"公司名称\" align=\"center\" width=\"250\"></el-table-column>\n        <el-table-column prop=\"VEHI_NO\" label=\"车牌号码\" align=\"center\" width=\"90\"></el-table-column>\n        <el-table-column prop=\"MDT_NO\" label=\"终端编号\" align=\"center\" width=\"110\"></el-table-column>\n        <el-table-column prop=\"VEHI_SIM\" label=\"SIM卡号\" align=\"center\" width=\"100\"></el-table-column>\n        <el-table-column prop=\"SPEED\" label=\"速度(KM/H)\" align=\"center\" width=\"90\"></el-table-column>\n        <el-table-column prop=\"STIME\" label=\"报警时间\" align=\"center\"  min-width=\"130\" show-overflow-tooltip :resizable=\"false\">\n          <template slot-scope=\"scope\">\n            <span v-text=\"stime(scope.row.STIME)\"></span>\n          </template>\n        </el-table-column>\n      </t-table-page>\n    </el-dialog>\n  </t-layout>\n</template>\n\n<script>\nimport { baseURL } from 'util'\nimport { mapState } from 'vuex'\nimport { getMenu } from 'assets/js/menu'\nimport axios from 'axios'\nimport moment from 'moment'\nexport default {\n  name: 'Index',\n  data() {\n    return {\n      menuList: [],\n      menuGroupActive: '',\n      realname: '',\n      dialog: {\n        display: false,\n        title: '紧急报警'\n      },\n      table: {\n        data: [],\n        pageSize: 10,\n        isAlarmNum: false,\n        num: 0\n      }\n    }\n  },\n  mounted() {\n    this.getLoginType()\n    this.getMenuList()\n    this.getEmergencyAlarm()\n    setInterval(this.getEmergencyAlarm,1000*30)\n  },\n  computed: {\n    ...mapState(['username']),\n    routerName() {\n      return this.$route.name || ''\n    }\n  },\n  methods: {\n    stime(date) {\n      return moment(date).format('YYYY-MM-DD HH:mm:ss')\n    },\n    getLoginType() {\n      axios.get('map/loginType' ,{baseURL}).then(res =>{\n        console.log('dl:',res.data.loginType)\n        console.log(2222,res.data.userId)\n        this.$cookies.set('loginType', res.data.loginType)\n        this.$cookies.set('userId', res.data.userId)\n      })\n    },\n    getMenuList() {\n      axios.get('map/getUser', { baseURL }).then(res => {\n        console.log(res.data)\n        if(res.data.power == 'null'){\n          this.$router.push({name: '登录'})\n        }else{\n          this.realname = res.data.realname\n          const power = res.data.power\n          console.info('getMenuList:', this)\n          this.menuList = getMenu(power)\n        }\n      })\n      // const power ='cssz,yyts,xxxf,lsgj,wzjk,dcjk,tysp,fpjk,qyjk,hksp,yyrb,wzcx,yysjtj,yyjlcx,xxjlcx,czsw,wxjlcx,sdqxbb,yyyb,zrsq,bttj,clzgl,cltj,wsxcl,sxwyy,dccltj,clsxtj,yywsx,wsxwyy,wsxwyy,wysjcl,gwgl,yhgl,ptsyjl,qygl,zcsq,bgtj,btsq,bgsq,zrtj,zctj,tscx,sjjrsq,wqdqt,dlclzgl,clzyhgl,czswbf'\n      // this.menuList = getMenu(power)\n    },\n    handleMenuGroupTitleClick(id) {\n      if (this.menuGroupActive === id) this.menuGroupActive = ''\n      else this.menuGroupActive = id\n    },\n    handleMenuItemClick(item) {\n      console.log(item)\n      if (item.title == '通用视频') {\n        axios\n          .post(\n            'http://localhost:55123/dhvideo.html?dest=http://localhost:8080/subcenters/tongyong.html&username=1'\n          )\n          .then(function() {})\n      } else if (item.title == '海康视频') {\n        axios\n          .post(\n            'http://localhost:55123/hkvideo.html?dest=http://localhost:8080/subcenters/haikang.html&username=1'\n          )\n          .then(function() {})\n      }\n      this.handleMenuModalClick()\n    },\n    handleMenuModalClick() {\n      this.menuGroupActive = ''\n    },\n    handleCloseClick() {\n      this.$confirm('是否登出?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$store.commit('LOGIN', { name: '', power: [] })\n        this.$router.push({ name: '登录' })\n      })\n    },\n    handleCallPoliceClick() {\n      if(this.table.num>0)\n        this.dialog.display = true\n    },\n    getEmergencyAlarm() {\n      axios.get('map/getMonitor', { baseURL }).then(res => {\n        let vehilist = Object.freeze(res.data.vehilist)\n        let one = ''\n        let data = []\n        for(let i=0; i<vehilist.length; i++){\n          if(new Date().getTime() - parseFloat(vehilist[0].STIME) <= 1000*60*5){\n            if (vehilist[i].ALARMSTATUS.length == 8) {\n              one = vehilist[i].ALARMSTATUS.substring(7, 8)\n              if (\n                one == '1' ||\n                one == '3' ||\n                one == '5' ||\n                one == '7' ||\n                one == '9' ||\n                one == 'B' ||\n                one == 'D' ||\n                one == 'F'\n              ) {\n                // console.log(new Date().getTime() , parseFloat(vehilist[0].STIME),new Date().getTime() - parseFloat(vehilist[0].STIME) , 1000*60*5)\n                data.push(vehilist[i])\n              }\n            }\n          }\n        }\n        this.table.data = data\n        if(data.length>0){\n          this.table.num = data.length\n          this.table.isAlarmNum = true\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" >\n</style>\n<style lang=\"scss\" scoped>\n.tw-menu {\n  &-modal {\n    position: fixed;\n    top: 40px;\n    left: 0;\n    width: 100%;\n    height: calc(100% - 40px);\n    background-color: rgba(0, 0, 0, 0.3);\n    z-index: 2001;\n  }\n}\n.tw-system {\n  &-box {\n    position: absolute;\n    top: calc(50% - 18px);\n    right: 15px;\n    font-size: 18px;\n    color: #ffffff;\n    transform: translateY(-50%);\n  }\n  &-item {\n    display: inline-block;\n    margin-right: 10px;\n    &:last-child {\n      margin-right: 0;\n    }\n    i {\n      display: inline-block;\n      width: 30px;\n      height: 30px;\n      line-height: 30px;\n      text-align: center;\n      &.el-icon-switch-button {\n        &:hover {\n          color: #e81123;\n        }\n      }\n    }\n  }\n}\n.tw-heading-box {\n  height: 35px;\n  padding-left: 20px;\n  padding-right: 20px;\n  border-bottom: 1px solid #eeeeee;\n  font-size: 20px;\n  font-weight: 400;\n  line-height: 35px;\n  letter-spacing: 0.1em;\n  background-color: #ffffff;\n}\n\n.tw-box {\n  &.tw-call-police {\n    position: absolute;\n    bottom: 4px;\n    right: 4px;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    box-shadow: 0 0 0 2px #aaaaaa, 0 0 6px 4px #eeeeee, inset 0 0 4px #eeeeee;\n    background-color: #ffffff;\n    transform: translate(29px, 29px);\n    transition: transform 0.3s linear;\n    z-index: 10;\n    user-select: none;\n    cursor: pointer;\n\n    &::before {\n      display: inline-block;\n      width: 50px;\n      height: 50px;\n      margin-top: -5px;\n      font-size: 28px;\n      text-align: center;\n      line-height: 50px;\n      color: #999999;\n    }\n\n    &::after {\n      content: '';\n      position: absolute;\n      width: calc(100% + 30px);\n      height: calc(100% + 30px);\n      margin: -15px;\n      border-radius: inherit;\n    }\n\n    &:hover {\n      transform: translate(0, 0);\n    }\n\n    &.alarm {\n      box-shadow: 0 0 0 2px #e81123, 0 0 6px 4px #ee5b06, inset 0 0 4px #ee9106;\n\n      &::before {\n        color: #e81123;\n        animation: callPolice 0.5s;\n        animation-iteration-count: 0;\n      }\n    }\n\n    .tw-num {\n      position: absolute;\n      top: 55%;\n      width: 100%;\n      margin-top: 5px;\n      font-size: 12px;\n      font-weight: 500;\n      text-align: center;\n      color: #e81123;\n    }\n  }\n}\n\n@keyframes callPolice {\n  0% {\n    text-shadow: 0 0 2px #e81123;\n  }\n  30% {\n    text-shadow: 0 0 2px #ee5b06;\n  }\n  60% {\n    text-shadow: 0 0 2px #ee8206;\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=601d81b8&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style1 from \"./Index.vue?vue&type=style&index=1&id=601d81b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"601d81b8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}