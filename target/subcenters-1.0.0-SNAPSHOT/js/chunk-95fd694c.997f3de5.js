(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-95fd694c"],{"500f":function(t,e,i){},abf0:function(t,e,i){"use strict";var l=i("500f"),n=i.n(l);n.a},d504:function(t,e,i){"use strict";i.r(e);var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("t-layout",{staticStyle:{overflow:"hidden"},attrs:{header:"75","header-class":"tw-header"},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticClass:"tw-header"},[t._v("出租车分中心监控平台")]),i("div",{staticClass:"tw-menu-nav"},[t._l(t.menuList,function(e){return i("t-menu-group",{key:e.id,staticClass:"tw-menu-nav-item",attrs:{tpClass:"tw-menu-nav",id:e.id,icon:e.icon,title:e.title,visible:t.menuGroupActive===e.id},on:{"title-click":t.handleMenuGroupTitleClick}},t._l(e.children,function(e){return i("t-menu-item",{key:e.id,attrs:{url:e.href},on:{"menu-item-click":function(i){return t.handleMenuItemClick(e)}}},[i("i",{staticClass:"tw-icon-img",class:e.icon}),i("span",{staticClass:"tw-title"},[t._v(t._s(e.title))])])}),1)}),i("transition",{attrs:{name:"menu-modal"}},[t.menuGroupActive?i("div",{staticClass:"tw-menu-modal",on:{click:t.handleMenuModalClick}}):t._e()])],2),i("div",{staticClass:"tw-system-box"},[i("div",{staticClass:"tw-system-item"},[i("i",{staticClass:"el-icon-user"}),t._v("\n        "+t._s(t.realname)+"\n      ")]),i("div",{staticClass:"tw-system-item"},[i("i",{staticClass:"el-icon-switch-button",on:{click:t.handleCloseClick}})])]),i("div",{staticClass:"tw-heading-box"},[i("i",{staticClass:"el-icon-caret-right"}),t._v("\n      "+t._s(t.routerName)+"\n    ")])]},proxy:!0}])},[i("keep-alive",[i("router-view")],1),i("div",{staticClass:"tw-box tw-call-police iconfont icon-call-police",class:{alarm:t.table.isAlarmNum},on:{click:t.handleCallPoliceClick}},[t.table.isAlarmNum?i("div",{staticClass:"tw-num"},[t._v(t._s(t.table.num))]):t._e()]),i("el-dialog",{staticClass:"tw-dialog",attrs:{title:t.dialog.title,visible:t.dialog.display,width:"900px"},on:{"update:visible":function(e){return t.$set(t.dialog,"display",e)}}},[i("t-table-page",{attrs:{data:t.table.data,height:"560","page-size":t.table.pageSize}},[i("el-table-column",{attrs:{type:"index",label:"编号",align:"center",width:"60"}}),i("el-table-column",{attrs:{prop:"COMP_NAME",label:"公司名称",align:"center",width:"250"}}),i("el-table-column",{attrs:{prop:"VEHI_NO",label:"车牌号码",align:"center",width:"90"}}),i("el-table-column",{attrs:{prop:"MDT_NO",label:"终端编号",align:"center",width:"110"}}),i("el-table-column",{attrs:{prop:"VEHI_SIM",label:"SIM卡号",align:"center",width:"100"}}),i("el-table-column",{attrs:{prop:"SPEED",label:"速度(KM/H)",align:"center",width:"90"}}),i("el-table-column",{attrs:{prop:"STIME",label:"报警时间",align:"center","min-width":"130","show-overflow-tooltip":"",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{domProps:{textContent:t._s(t.stime(e.row.STIME))}})]}}])})],1)],1)],1)},n=[],c=(i("8e6e"),i("ac6a"),i("456d"),i("0d6d"),i("7f7f"),i("bd86")),a=i("0e08"),s=i("2f62"),o=i("17fb"),r=i.n(o);function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,l)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(i,!0).forEach(function(e){Object(c["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var u=[{id:"cljk",title:"车辆监控",icon:"icon-vehicle-monitor",fullPath:"/cljk"},{id:"cxfx",title:"查询分析",icon:"icon-query-analysis",fullPath:"/cxfx"},{id:"sjtj",title:"数据统计",icon:"icon-data-statistics",fullPath:"/sjtj"},{id:"hjgl",title:"函件管理",icon:"icon-mail-manage",fullPath:"/hjgl"},{id:"jcsj",title:"基础数据",icon:"icon-basic-data",fullPath:"/jcsj"}],g={cljk:[{id:"yyts",title:"营运态势",icon:"tw-img-operation",href:"/cljk/yyts"},{id:"wzjk",title:"位置监控",icon:"tw-img-position",href:"/cljk/wzjk"},{id:"dcjk",title:"多车监控",icon:"tw-img-multiple-cars",href:"/cljk/dcjk"},{id:"fpjk",title:"分屏监控",icon:"tw-img-split-screen",href:"/cljk/fpjk"},{id:"lsgj",title:"历史轨迹",icon:"tw-img-historical-track",href:"/cljk/lsgj"},{id:"qyjk",title:"区域监控",icon:"tw-img-region",href:"/cljk/qyjk"},{id:"hksp",title:"海康视频",icon:"tw-img-haikang",href:"/cljk/hksp"},{id:"tysp",title:"通用视频",icon:"tw-img-video",href:"/cljk/tysp"},{id:"xxxf",title:"消息下发",icon:"tw-img-message",href:"/cljk/xxxf"},{id:"cssz",title:"参数设置",icon:"tw-img-message",href:"/cljk/cssz"}],cxfx:[{id:"sdqxbb",title:"速度曲线报表",icon:"tw-img-speed-curve",href:"/cljk/sdqxbb"},{id:"czsw",title:"查找失物(全部)",icon:"tw-img-lost-search",href:"/cljk/czsw"},{id:"czswbf",title:"查找失物(部分)",icon:"tw-img-lost-search-b",href:"/cljk/czswbf"},{id:"yyjlcx",title:"营运记录查询",icon:"tw-img-operate-record",href:"/cljk/yyjlcx"},{id:"yysjtj",title:"营运数据统计",icon:"tw-img-operational-data",href:"/cljk/yysjtj"},{id:"yyrb",title:"营运日报",icon:"tw-img-operate-daily",href:"/cljk/yyrb"},{id:"yyyb",title:"营运月报",icon:"tw-img-operate-monthly",href:"/cljk/yyyb"},{id:"wxjlcx",title:"维修记录查询",icon:"tw-img-maintenance-records",href:"/cljk/wxjlcx"},{id:"xxjlcx",title:"消息记录查询",icon:"tw-img-message-record",href:"/cljk/xxjlcx"},{id:"wzcx",title:"违章查询",icon:"tw-img-violation",href:"/cljk/wzcx"},{id:"tscx",title:"投诉查询",icon:"tw-img-complaint-inquiry",href:"/cljk/tscx"}],sjtj:[{id:"szltj",title:"实载率统计",icon:"icon-kefu",href:"/sjtj/szltj"},{id:"dccltj",title:"单车里程统计",icon:"tw-img-bicycle-mileage-statistics",href:"/sjtj/dccltj"},{id:"clsxtj",title:"车辆上线情况统计",icon:"tw-img-vehicle-online-statistics",href:"/sjtj/clsxtj"},{id:"wysjcl",title:"无营运数据车辆",icon:"tw-img-vehicles-without-operational-data",href:"/sjtj/wyysj"},{id:"wsxcl",title:"未上线车辆查询",icon:"tw-img-vehicles-not-online",href:"/sjtj/wsxcl"},{id:"sxwyy",title:"上线无营运车辆",icon:"tw-img-no-operational-vehicles",href:"/sjtj/sxwyy"},{id:"yywsx",title:"营运未上线车辆",icon:"tw-img-off-line-vehicles-operation",href:"/sjtj/yywsx"},{id:"wsxwyy",title:"未上线未营运车辆",icon:"tw-img-unlisted-vehicles",href:"/sjtj/wsxwyy"},{id:"wkzcbh",title:"无空重车变化车辆",icon:"icon-kefu",href:"/sjtj/wkzcbh"},{id:"wqdqt",title:"无签到签退",icon:"tw-img-no-sign-check-out",href:"/sjtj/wqdqt"}],jcsj:[{id:"clzgl",title:"车辆组管理",icon:"tw-img-vehicle-group-manage",href:"/jcsj/clzgl"},{id:"qygl",title:"区域管理",icon:"tw-img-area-manage",href:"/jcsj/qygl"},{id:"ptsyjl",title:"平台使用记录",icon:"tw-img-platform-usage-records",href:"/jcsj/ptsyjl"},{id:"yhgl",title:"用户管理",icon:"tw-img-user-manage",href:"/jcsj/yhgl"},{id:"gwgl",title:"岗位管理",icon:"tw-img-job-manage",href:"/jcsj/gwgl"},{id:"dlclzgl",title:"独立车辆组管理",icon:"tw-img-independent-vehicle-group-manage",href:"/jcsj/dlclzgl"},{id:"clzyhgl",title:"车辆组用户管理",icon:"tw-img-vehicle-group-user-manage",href:"/jcsj/clzyhgl"}],hjgl:[{id:"zrsq",title:"转入申请",icon:"tw-img-in-transfer-application",href:"/hjgl/zrsq"},{id:"zcsq",title:"转出申请",icon:"tw-img-out-transfer-application",href:"/hjgl/zcsq"},{id:"btsq",title:"报停申请",icon:"tw-img-application-suspension",href:"/hjgl/btsq"},{id:"bgsq",title:"变更申请",icon:"tw-img-change-request",href:"/hjgl/bgsq"},{id:"sjjrsq",title:"数据接入申请",icon:"tw-img-data-access-application",href:"/hjgl/sjjrsq"},{id:"zrtj",title:"转入统计",icon:"tw-img-in-transfer-statistics",href:"/hjgl/zrtj"},{id:"zctj",title:"转出统计",icon:"tw-img-out-transfer-statistics",href:"/hjgl/zctj"},{id:"bttj",title:"报停统计",icon:"tw-img-stop-statistics",href:"/hjgl/bttj"},{id:"bgtj",title:"变更统计",icon:"tw-img-change-statistics",href:"/hjgl/bgtj"}]};function m(t){return r.a.map(u,function(e){var i=g[e.id],l=r.a.filter(i,function(e){return t.indexOf(e.id)>=0});return h({},e,{children:l})})}var f=i("bc3a"),j=i.n(f),p=i("c1df"),w=i.n(p);function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,l)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(i,!0).forEach(function(e){Object(c["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var k={name:"Index",data:function(){return{menuList:[],menuGroupActive:"",realname:"",dialog:{display:!1,title:"紧急报警"},table:{data:[],pageSize:10,isAlarmNum:!1,num:0}}},mounted:function(){this.getLoginType(),this.getMenuList(),this.getEmergencyAlarm(),setInterval(this.getEmergencyAlarm,3e4)},computed:b({},Object(s["b"])(["username"]),{routerName:function(){return this.$route.name||""}}),methods:{stime:function(t){return w()(t).format("YYYY-MM-DD HH:mm:ss")},getLoginType:function(){var t=this;j.a.get("map/loginType",{baseURL:a["a"]}).then(function(e){console.log("dl:",e.data.loginType),console.log(2222,e.data.userId),t.$cookies.set("loginType",e.data.loginType),t.$cookies.set("userId",e.data.userId)})},getMenuList:function(){var t=this;j.a.get("map/getUser",{baseURL:a["a"]}).then(function(e){if(console.log(e.data),"null"==e.data.power)t.$router.push({name:"登录"});else{t.realname=e.data.realname;var i=e.data.power;console.info("getMenuList:",t),t.menuList=m(i)}})},handleMenuGroupTitleClick:function(t){this.menuGroupActive===t?this.menuGroupActive="":this.menuGroupActive=t},handleMenuItemClick:function(t){console.log(t),"通用视频"==t.title?j.a.post("http://localhost:55123/dhvideo.html?dest=http://localhost:8080/subcenters/tongyong.html&username=1").then(function(){}):"海康视频"==t.title&&j.a.post("http://localhost:55123/hkvideo.html?dest=http://localhost:8080/subcenters/haikang.html&username=1").then(function(){}),this.handleMenuModalClick()},handleMenuModalClick:function(){this.menuGroupActive=""},handleCloseClick:function(){var t=this;this.$confirm("是否登出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$store.commit("LOGIN",{name:"",power:[]}),t.$router.push({name:"登录"})})},handleCallPoliceClick:function(){this.table.num>0&&(this.dialog.display=!0)},getEmergencyAlarm:function(){var t=this;j.a.get("map/getMonitor",{baseURL:a["a"]}).then(function(e){for(var i=Object.freeze(e.data.vehilist),l="",n=[],c=0;c<i.length;c++)(new Date).getTime()-parseFloat(i[0].STIME)<=3e5&&8==i[c].ALARMSTATUS.length&&(l=i[c].ALARMSTATUS.substring(7,8),"1"!=l&&"3"!=l&&"5"!=l&&"7"!=l&&"9"!=l&&"B"!=l&&"D"!=l&&"F"!=l||n.push(i[c]));t.table.data=n,n.length>0&&(t.table.num=n.length,t.table.isAlarmNum=!0)})}}},v=k,x=(i("abf0"),i("2877")),O=Object(x["a"])(v,l,n,!1,null,"601d81b8",null);e["default"]=O.exports}}]);
//# sourceMappingURL=chunk-95fd694c.997f3de5.js.map