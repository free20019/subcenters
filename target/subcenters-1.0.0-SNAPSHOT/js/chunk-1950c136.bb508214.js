(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1950c136"],{a481:function(t,e,a){"use strict";var n=a("cb7c"),l=a("4bf8"),i=a("9def"),r=a("4588"),c=a("0390"),o=a("5f1b"),s=Math.max,d=Math.min,h=Math.floor,u=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,function(t,e,a,b){return[function(n,l){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i,l):a.call(String(i),n,l)},function(t,e){var l=b(a,t,this,e);if(l.done)return l.value;var h=n(t),u=String(this),p="function"===typeof e;p||(e=String(e));var y=h.global;if(y){var g=h.unicode;h.lastIndex=0}var w=[];while(1){var v=o(h,u);if(null===v)break;if(w.push(v),!y)break;var x=String(v[0]);""===x&&(h.lastIndex=c(u,i(h.lastIndex),g))}for(var C="",k=0,A=0;A<w.length;A++){v=w[A];for(var S=String(v[0]),q=s(d(r(v.index),u.length),0),D=[],$=1;$<v.length;$++)D.push(m(v[$]));var _=v.groups;if(p){var M=[S].concat(D,q,u);void 0!==_&&M.push(_);var T=String(e.apply(void 0,M))}else T=f(S,u,q,D,_,e);q>=k&&(C+=u.slice(k,q)+T,k=q+S.length)}return C+u.slice(k)}];function f(t,e,n,i,r,c){var o=n+t.length,s=i.length,d=p;return void 0!==r&&(r=l(r),d=u),a.call(c,d,function(a,l){var c;switch(l.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(o);case"<":c=r[l.slice(1,-1)];break;default:var d=+l;if(0===d)return a;if(d>s){var u=h(d/10);return 0===u?a:u<=s?void 0===i[u-1]?l.charAt(1):i[u-1]+l.charAt(1):a}c=i[d-1]}return void 0===c?"":c})}})},aa1a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("t-query-panel",{attrs:{model:t.query,footer:"300"},scopedSlots:t._u([{key:"querybar",fn:function(){return[a("el-form-item",[a("el-date-picker",{attrs:{type:"date",placeholder:"时间"},model:{value:t.query.time,callback:function(e){t.$set(t.query,"time",e)},expression:"query.time"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleQueryClick}},[t._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleExportClick}},[t._v("导出")])],1)]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"tw-chart",attrs:{id:"e-chart"}})]},proxy:!0}])},[a("t-table-page",{attrs:{data:t.table.data,loading:t.table.display}},[a("el-table-column",{attrs:{prop:"message",label:"时间",align:"center",width:"100",resizable:!1}}),a("el-table-column",{attrs:{prop:"y0",label:"00:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y1",label:"01:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y2",label:"02:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y3",label:"03:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y4",label:"04:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y5",label:"05:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y6",label:"06:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y7",label:"07:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y8",label:"08:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y9",label:"09:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y10",label:"10:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y11",label:"11:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y12",label:"12:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y13",label:"13:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y14",label:"14:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y15",label:"15:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y16",label:"16:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y17",label:"17:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y18",label:"18:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y19",label:"19:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y20",label:"20:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y21",label:"21:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y22",label:"22:00",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"y23",label:"23:00",align:"center","min-width":"70",resizable:!1}})],1)],1)},l=[],i=(a("a481"),a("c1df")),r=a.n(i),c=a("313e"),o=a.n(c),s=a("0e08"),d=a("bc3a"),h=a.n(d),u=a("17fb"),p=a.n(u),m={name:"MileageStatistics",data:function(){return{query:{time:"",field1:"ACTUAL_LOAD_RATE",field2:"ACTUAL_LOAD_RATE",field3:"ACTUAL_LOAD_RATE",module:"MileageStatistics"},inputVehicle:{loading:!1,option:[]},table:{display:!1,data:[]},select:{vehicle:[]},chart:{el:null,jint:[],zuo:[],qiant:[],shangz:[],pingj:[],shangy:[],shangn:[],max:[],min:[]}}},mounted:function(){var t=this;this.query.time=new Date,this.findDataStatistics(),this.$nextTick(function(){t.chart.el=o.a.init(document.getElementById("e-chart"))})},methods:{iconClassName:s["m"],setChart:function(t){var e=this;t!==[]&&p.a.map(t,function(t,a){0===a?e.chart.jint=e.addContent(t):1===a?e.chart.zuot=e.addContent(t):2===a?e.chart.qiant=e.addContent(t):3===a?e.chart.shangz=e.addContent(t):4===a?e.chart.pingj=e.addContent(t):5===a?e.chart.max=e.addContent(t):6===a?e.chart.min=e.addContent(t):7===a?e.chart.shangy=e.addContent(t):8===a&&(e.chart.shangn=e.addContent(t))}),this.chart.el.clear(),this.chart.el.setOption({title:{text:"",subtext:""},tooltip:{trigger:"axis"},legend:{data:["今天","昨天","前天","上周","上周平均","前半月最大","前半月最小","上月","上年"]},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},grid:{top:"70px",left:"50px",right:"80px",bottom:"60px"},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}}],series:[{name:"今天",type:"line",data:this.chart.jint},{name:"昨天",type:"line",data:this.chart.zuot},{name:"前天",type:"line",data:this.chart.qiant},{name:"上周",type:"line",data:this.chart.shangz},{name:"上周平均",type:"line",data:this.chart.pingj},{name:"前半月最大",type:"line",data:this.chart.max},{name:"前半月最小",type:"line",data:this.chart.min},{name:"上月",type:"line",data:this.chart.shangy},{name:"上年",type:"line",data:this.chart.shangn}]})},addContent:function(t){for(var e=[],a=0;a<24;a++)null!=t["y"+a]&&e.push(t["y"+a].replace("%",""));return e},findDataStatistics:function(){var t=this,e=this.query,a=e.time,n=e.field1,l=e.field2,i=e.field3,c=e.module;if(!a)return this.$message.error("请选择时间！");this.table.display=!0,h.a.get("dataStatistics/findDataStatistics",{baseURL:s["a"],params:{time:a&&r()(a).format("YYYY-MM-DD"),field1:n,field2:l,field3:i,module:c}}).then(function(e){t.table.data=e.data||[],t.setChart(e.data||[]),t.table.display=!1}).catch(function(t){console.log(t)})},handleQueryClick:function(){this.findDataStatistics()},handleExportClick:function(){var t=this.query,e=t.time,a=t.field1,n=t.field2,l=t.field3,i=t.module;if(!e)return this.$message.error("请选择时间！");this.$confirm("是否需要导出?","提示",{confirmButtonText:"是",cancelButtonText:"否",cancelButtonClass:"el-button--danger",closeOnClickModal:!1,type:"info",center:!0}).then(function(){window.open("".concat(s["a"],"dataStatistics/findDataStatisticsExcel?time=").concat(e&&r()(e).format("YYYY-MM-DD"),"&field1=").concat(a,"&field2=").concat(n,"&field3=").concat(l,"&module=").concat(i))}).catch(function(){})}}},b=m,f=a("2877"),y=Object(f["a"])(b,n,l,!1,null,null,null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-1950c136.bb508214.js.map