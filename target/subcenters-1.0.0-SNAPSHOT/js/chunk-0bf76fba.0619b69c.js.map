{"version":3,"sources":["webpack:///./src/views/vehicle-monitor/MessageSent.vue?6c99","webpack:///src/views/vehicle-monitor/MessageSent.vue","webpack:///./src/views/vehicle-monitor/MessageSent.vue?1812","webpack:///./src/views/vehicle-monitor/MessageSent.vue","webpack:///./src/views/vehicle-monitor/MessageSent.vue?9a30"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","_l","item","index","class","active","fastTextIndex","on","$event","checkInfo","infoTowbk","INFO","_v","_s","staticStyle","addInfo","editInfo","delInfo","proxy","form","directives","name","rawName","value","loginType","expression","checkComp","model","callback","$$v","$set","BA_ID","BA_NAME","checkVhic","COMP_ID","COMP_NAME","ID","CLZ_NAME","VEHI_ID","VEHI_NO","sendOut","dialog","title","display","handleDialogClosed","slot","handleDialogCancel","handleDialogSubmit","staticRenderFns","data","company","branchOffice","vehicle","center","clz","companyOptions","branchOfficeOptions","clzOptions","fastTextList","vehicleoptions","id","compDisplay","groupDisplay","mounted","getLoginType","getInfo","methods","getBa_select","getClz","$message","message","type","params","append","$confirm","confirmButtonText","cancelButtonText","params1","console","log","res","vehi_no","substring","component"],"mappings":"8IAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,OAAS,GAAG,MAAQ,OAAOC,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACN,EAAG,MAAM,CAACO,YAAY,uBAAuB,CAACP,EAAG,MAAM,CAACO,YAAY,WAAWX,EAAIY,GAAIZ,EAAgB,aAAE,SAASa,EAAKC,GAAO,OAAOV,EAAG,MAAM,CAACK,IAAIK,EAAMH,YAAY,eAAeI,MAAM,CAACC,OAAQhB,EAAIiB,gBAAkBH,GAAOI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,UAAUN,IAAQ,SAAW,SAASK,GAAQ,OAAOnB,EAAIqB,UAAUR,EAAKS,SAAS,CAAClB,EAAG,SAAS,CAACO,YAAY,UAAUL,MAAM,CAAC,KAAO,oBAAoBF,EAAG,OAAO,CAACJ,EAAIuB,GAAGvB,EAAIwB,GAAGX,EAAKS,UAAU,KAAK,GAAGlB,EAAG,MAAM,CAACqB,YAAY,CAAC,aAAa,WAAW,CAACrB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,SAASY,GAAG,CAAC,MAAQlB,EAAI0B,UAAU,CAAC1B,EAAIuB,GAAG,QAAQnB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,SAASY,GAAG,CAAC,MAAQlB,EAAI2B,WAAW,CAAC3B,EAAIuB,GAAG,QAAQnB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,SAASY,GAAG,CAAC,MAAQlB,EAAI4B,UAAU,CAAC5B,EAAIuB,GAAG,SAAS,OAAOM,OAAM,MAAS,CAACzB,EAAG,UAAU,CAACO,YAAY,UAAUL,MAAM,CAAC,MAAQN,EAAI8B,KAAK,cAAc,SAAS,CAAC1B,EAAG,eAAe,CAAC2B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOlC,EAAImC,UAAqB,YAAEC,WAAW,0BAA0B9B,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,WAAa,GAAG,UAAY,GAAG,YAAc,SAASY,GAAG,CAAC,OAASlB,EAAIqC,WAAWC,MAAM,CAACJ,MAAOlC,EAAI8B,KAAY,QAAES,SAAS,SAAUC,GAAMxC,EAAIyC,KAAKzC,EAAI8B,KAAM,UAAWU,IAAMJ,WAAW,iBAAiBpC,EAAIY,GAAIZ,EAAkB,eAAE,SAASa,GAAM,OAAOT,EAAG,YAAY,CAACK,IAAII,EAAK6B,MAAMpC,MAAM,CAAC,MAAQO,EAAK8B,QAAQ,MAAQ9B,EAAK6B,WAAW,IAAI,GAAGtC,EAAG,eAAe,CAAC2B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOlC,EAAImC,UAAqB,YAAEC,WAAW,0BAA0B9B,MAAM,CAAC,MAAQ,QAAQ,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,UAAY,GAAG,YAAc,UAAUY,GAAG,CAAC,OAASlB,EAAI4C,WAAWN,MAAM,CAACJ,MAAOlC,EAAI8B,KAAiB,aAAES,SAAS,SAAUC,GAAMxC,EAAIyC,KAAKzC,EAAI8B,KAAM,eAAgBU,IAAMJ,WAAW,sBAAsBpC,EAAIY,GAAIZ,EAAuB,oBAAE,SAASa,GAAM,OAAOT,EAAG,YAAY,CAACK,IAAII,EAAKgC,QAAQvC,MAAM,CAAC,MAAQO,EAAKiC,UAAU,MAAQjC,EAAKgC,aAAa,IAAI,GAAGzC,EAAG,eAAe,CAAC2B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOlC,EAAImC,UAAsB,aAAEC,WAAW,2BAA2B9B,MAAM,CAAC,MAAQ,QAAQ,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,WAAa,GAAG,UAAY,GAAG,YAAc,UAAUY,GAAG,CAAC,OAASlB,EAAI4C,WAAWN,MAAM,CAACJ,MAAOlC,EAAI8B,KAAQ,IAAES,SAAS,SAAUC,GAAMxC,EAAIyC,KAAKzC,EAAI8B,KAAM,MAAOU,IAAMJ,WAAW,aAAapC,EAAIY,GAAIZ,EAAc,WAAE,SAASa,GAAM,OAAOT,EAAG,YAAY,CAACK,IAAII,EAAKkC,GAAGzC,MAAM,CAAC,MAAQO,EAAKmC,SAAS,MAAQnC,EAAKkC,QAAQ,IAAI,GAAG3C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,YAAY,CAACO,YAAY,YAAYL,MAAM,CAAC,WAAa,GAAG,UAAY,GAAG,SAAW,GAAG,YAAc,WAAWgC,MAAM,CAACJ,MAAOlC,EAAI8B,KAAY,QAAES,SAAS,SAAUC,GAAMxC,EAAIyC,KAAKzC,EAAI8B,KAAM,UAAWU,IAAMJ,WAAW,iBAAiBpC,EAAIY,GAAIZ,EAAkB,eAAE,SAASa,GAAM,OAAOT,EAAG,YAAY,CAACK,IAAII,EAAKoC,QAAQ3C,MAAM,CAAC,MAAQO,EAAKqC,QAAQ,MAAQrC,EAAKqC,aAAa,IAAI,GAAG9C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,EAAE,YAAc,WAAWgC,MAAM,CAACJ,MAAOlC,EAAI8B,KAAW,OAAES,SAAS,SAAUC,GAAMxC,EAAIyC,KAAKzC,EAAI8B,KAAM,SAAUU,IAAMJ,WAAW,kBAAkB,GAAGhC,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQlB,EAAImD,UAAU,CAACnD,EAAIuB,GAAG,SAAS,IAAI,GAAGnB,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQN,EAAIoD,OAAOC,MAAM,QAAUrD,EAAIoD,OAAOE,QAAQ,wBAAuB,EAAM,MAAQ,SAASpC,GAAG,CAAC,iBAAiB,SAASC,GAAQ,OAAOnB,EAAIyC,KAAKzC,EAAIoD,OAAQ,UAAWjC,IAAS,OAASnB,EAAIuD,qBAAqB,CAACnD,EAAG,UAAU,CAACO,YAAY,UAAUL,MAAM,CAAC,MAAQN,EAAIoD,OAAOtB,KAAK,cAAc,SAAS,CAAC1B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,KAAKgC,MAAM,CAACJ,MAAOlC,EAAIoD,OAAOtB,KAAS,KAAES,SAAS,SAAUC,GAAMxC,EAAIyC,KAAKzC,EAAIoD,OAAOtB,KAAM,OAAQU,IAAMJ,WAAW,uBAAuB,IAAI,GAAGhC,EAAG,MAAM,CAACE,MAAM,CAAC,KAAO,UAAUkD,KAAK,UAAU,CAACpD,EAAG,YAAY,CAACc,GAAG,CAAC,MAAQlB,EAAIyD,qBAAqB,CAACzD,EAAIuB,GAAG,SAASnB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQlB,EAAI0D,qBAAqB,CAAC1D,EAAIuB,GAAG,UAAU,IAAI,IAAI,IAClpIoC,EAAkB,G,kECwFtB,GACE3B,KAAM,cACN4B,KAFF,WAGI,MAAO,CACL9B,KAAM,CACJ+B,QAAS,GACTC,aAAc,GACdC,QAAS,GACTC,OAAQ,GACRC,IAAK,IAEPC,eAAgB,GAChBC,oBAAqB,GACrBC,WAAY,GACZnD,cAAe,KACfoD,aAAc,GACdC,eAAgB,GAChBlB,OAAQ,CACNE,SAAS,EACTD,MAAO,GACPvB,KAAM,CACJE,KAAM,GACNuC,GAAI,KAGRpC,UAAW,CACTA,UAAW,GACXqC,aAAa,EACbC,cAAc,KAIpBC,QAhCF,WAiCIzE,KAAK0E,eACL1E,KAAK2E,WAEPC,QAAS,CACPzD,UADJ,SACA,GACMnB,KAAKgB,cAAgBH,GAEvBO,UAJJ,SAIA,GACMpB,KAAKgB,cAAgB,KACrBhB,KAAK6B,KAAKkC,OAASnD,GAErB4C,mBARJ,WASMxD,KAAKmD,OAAOE,SAAU,GAExBC,mBAXJ,WAYMtD,KAAKmD,OAAOC,MAAQ,GACpBpD,KAAKmD,OAAOtB,KAAKE,KAAO,GACxB/B,KAAKmD,OAAOtB,KAAKyC,GAAK,IAExBI,aAhBJ,WAiBM,IAAN,iCACM1E,KAAKkC,UAAUA,UAAYA,EACjC,QACQlC,KAAKkC,UAAUqC,aAAc,EAC7BvE,KAAK6E,gBACb,SACQ7E,KAAKkC,UAAUsC,cAAe,EAC9BxE,KAAK8E,WAGTH,QA3BJ,WA2BA,WACM,EAAN,uDACQ,EAAR,uBAGIlD,QAhCJ,WAiCMzB,KAAKmD,OAAOE,SAAU,EACtBrD,KAAKmD,OAAOC,MAAQ,MAEtB1B,SApCJ,WAqCA,0BACQ1B,KAAKmD,OAAOE,SAAU,EACtBrD,KAAKmD,OAAOC,MAAQ,KACpBpD,KAAKmD,OAAOtB,KAAKyC,GAAKtE,KAAKoE,aAAapE,KAAKgB,eAAe8B,GAC5D9C,KAAKmD,OAAOtB,KAAKE,KAAO/B,KAAKoE,aAAapE,KAAKgB,eAAeK,MAE9DrB,KAAK+E,SAAS,CACZC,QAAS,cACTC,KAAM,aAIZxB,mBAjDJ,WAiDA,WACM,GAAN,0BAAM,CAOA,IAAN,sBACMyB,EAAOC,OAAO,OAAQnF,KAAKmD,OAAOtB,KAAKE,MAC7C,wBACQ,EAAR,0DACU,EAAV,sBACU,EAAV,kBACU,EAAV,aAGQmD,EAAOC,OAAO,KAAMnF,KAAKmD,OAAOtB,KAAKyC,IACrC,EAAR,2DACU,EAAV,sBACU,EAAV,kBACU,EAAV,kBAnBQtE,KAAK+E,SAAS,CACZC,QAAS,YACTC,KAAM,aAqBZtD,QA1EJ,WA0EA,WACA,yBACQ3B,KAAKoF,SAAS,uBAAwB,KAAM,CAC1CC,kBAAmB,KACnBC,iBAAkB,KAClBL,KAAM,YAChB,gBACU,IAAV,sBACUC,EAAOC,OAAO,KAAM,EAA9B,kCACU,EAAV,0DACY,EAAZ,sBACY,EAAZ,cAEA,oBAGQnF,KAAK+E,SAAS,CACZC,QAAS,cACTC,KAAM,aAIZJ,aAhGJ,WAgGA,WACM,EAAN,4DACQ,EAAR,yBAGIzC,UArGJ,WAqGA,WACMpC,KAAK6B,KAAKgC,aAAe,GACzB7D,KAAK6B,KAAKiC,QAAU,GACpB,IAAN,sBACMoB,EAAOC,OAAO,KAAMnF,KAAK6B,KAAK+B,SAC9B,EAAN,iEACQ,EAAR,6BAEM5D,KAAK2C,aAEPA,UA/GJ,WA+GA,WACM3C,KAAK6B,KAAKiC,QAAU,GACpB,IAAN,sBACA,+BACQyB,EAAQJ,OAAO,QAASnF,KAAK6B,KAAK+B,SAClC2B,EAAQJ,OAAO,UAAWnF,KAAK6B,KAAKgC,eAC5C,+BACQ0B,EAAQJ,OAAO,KAAMnF,KAAK6B,KAAKmC,KAEjC,EAAN,iEACQ,EAAR,yBAGIc,OA5HJ,WA4HA,WACM,EAAN,sDACQU,QAAQC,IAAIC,EAAI/B,MAChB,EAAR,qBAGIT,QAlIJ,WAkIA,WAEM,GADAsC,QAAQC,IAAIzF,KAAK6B,MACvB,+BACQ,GAAR,sBAKU,YAJA7B,KAAK+E,SAAS,CACZC,QAAS,UACTC,KAAM,iBAIlB,kCACA,kBAKU,YAJAjF,KAAK+E,SAAS,CACZC,QAAS,WACTC,KAAM,YAKZ,GAAN,qBAAM,CAOA,IAAN,KACA,6BACQ,EAAR,oCACUU,GAAW,IAArB,SAEQA,EAAUA,EAAQC,UAAU,EAApC,aAEM,IAAN,sBACA,+BACQL,EAAQJ,OAAO,QAASnF,KAAK6B,KAAK+B,SAClC2B,EAAQJ,OAAO,UAAWnF,KAAK6B,KAAKgC,eAC5C,+BACQ0B,EAAQJ,OAAO,MAAOnF,KAAK6B,KAAKmC,KAElCuB,EAAQJ,OAAO,UAAWQ,GAC1BJ,EAAQJ,OAAO,KAAMnF,KAAK6B,KAAKkC,QAC/B,EAAN,8DACQ,EAAR,wBAvBQ/D,KAAK+E,SAAS,CACZC,QAAS,YACTC,KAAM,eCrRoV,I,wBCQhWY,EAAY,eACd,EACA/F,EACA4D,GACA,EACA,KACA,WACA,MAIa,aAAAmC,E,2CCnBf,yBAA0jB,EAAG","file":"js/chunk-0bf76fba.0619b69c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('t-layout',{attrs:{\"border\":\"\",\"right\":\"500\"},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('div',{staticClass:\"tw-template-wrapper\"},[_c('div',{staticClass:\"tw-list\"},_vm._l((_vm.fastTextList),function(item,index){return _c('div',{key:index,staticClass:\"tw-list-item\",class:{active: _vm.fastTextIndex === index},on:{\"click\":function($event){return _vm.checkInfo(index)},\"dblclick\":function($event){return _vm.infoTowbk(item.INFO)}}},[_c('t-icon',{staticClass:\"tw-icon\",attrs:{\"name\":\"icon-arrowTria\"}}),_c('span',[_vm._v(_vm._s(item.INFO))])],1)}),0),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.addInfo}},[_vm._v(\"添加\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.editInfo}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.delInfo}},[_vm._v(\"删除\")])],1)])]},proxy:true}])},[_c('el-form',{staticClass:\"tw-form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loginType.compDisplay),expression:\"loginType.compDisplay\"}],attrs:{\"label\":\"公司\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择公司\"},on:{\"change\":_vm.checkComp},model:{value:(_vm.form.company),callback:function ($$v) {_vm.$set(_vm.form, \"company\", $$v)},expression:\"form.company\"}},_vm._l((_vm.companyOptions),function(item){return _c('el-option',{key:item.BA_ID,attrs:{\"label\":item.BA_NAME,\"value\":item.BA_ID}})}),1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loginType.compDisplay),expression:\"loginType.compDisplay\"}],attrs:{\"label\":\"分公司\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择分公司\"},on:{\"change\":_vm.checkVhic},model:{value:(_vm.form.branchOffice),callback:function ($$v) {_vm.$set(_vm.form, \"branchOffice\", $$v)},expression:\"form.branchOffice\"}},_vm._l((_vm.branchOfficeOptions),function(item){return _c('el-option',{key:item.COMP_ID,attrs:{\"label\":item.COMP_NAME,\"value\":item.COMP_ID}})}),1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loginType.groupDisplay),expression:\"loginType.groupDisplay\"}],attrs:{\"label\":\"车辆组\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择车辆组\"},on:{\"change\":_vm.checkVhic},model:{value:(_vm.form.clz),callback:function ($$v) {_vm.$set(_vm.form, \"clz\", $$v)},expression:\"form.clz\"}},_vm._l((_vm.clzOptions),function(item){return _c('el-option',{key:item.ID,attrs:{\"label\":item.CLZ_NAME,\"value\":item.ID}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"车牌号码\"}},[_c('el-select',{staticClass:\"tw-select\",attrs:{\"filterable\":\"\",\"clearable\":\"\",\"multiple\":\"\",\"placeholder\":\"请输入车牌号码\"},model:{value:(_vm.form.vehicle),callback:function ($$v) {_vm.$set(_vm.form, \"vehicle\", $$v)},expression:\"form.vehicle\"}},_vm._l((_vm.vehicleoptions),function(item){return _c('el-option',{key:item.VEHI_ID,attrs:{\"label\":item.VEHI_NO,\"value\":item.VEHI_NO}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"消息内容\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":8,\"placeholder\":\"请输入消息内容\"},model:{value:(_vm.form.center),callback:function ($$v) {_vm.$set(_vm.form, \"center\", $$v)},expression:\"form.center\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sendOut}},[_vm._v(\"发送\")])],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.dialog.title,\"visible\":_vm.dialog.display,\"close-on-click-modal\":false,\"width\":\"500px\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog, \"display\", $event)},\"closed\":_vm.handleDialogClosed}},[_c('el-form',{staticClass:\"tw-form\",attrs:{\"model\":_vm.dialog.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"消息内容\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"4\"},model:{value:(_vm.dialog.form.name),callback:function ($$v) {_vm.$set(_vm.dialog.form, \"name\", $$v)},expression:\"dialog.form.name\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleDialogCancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDialogSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <t-layout border right=\"500\">\n    <el-form class=\"tw-form\" :model=\"form\" label-width=\"80px\">\n      <el-form-item label=\"公司\" v-show=\"loginType.compDisplay\">\n        <el-select v-model=\"form.company\" filterable clearable  placeholder=\"请选择公司\" @change=\"checkComp\">\n          <el-option\n            v-for=\"item in companyOptions\"\n            :key=\"item.BA_ID\"\n            :label=\"item.BA_NAME\"\n            :value=\"item.BA_ID\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"分公司\" v-show=\"loginType.compDisplay\">\n        <el-select v-model=\"form.branchOffice\" clearable  placeholder=\"请选择分公司\" @change=\"checkVhic\">\n          <el-option\n            v-for=\"item in branchOfficeOptions\"\n            :key=\"item.COMP_ID\"\n            :label=\"item.COMP_NAME\"\n            :value=\"item.COMP_ID\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"车辆组\" v-show=\"loginType.groupDisplay\">\n        <el-select v-model=\"form.clz\" filterable clearable  placeholder=\"请选择车辆组\" @change=\"checkVhic\">\n          <el-option\n            v-for=\"item in clzOptions\"\n            :key=\"item.ID\"\n            :label=\"item.CLZ_NAME\"\n            :value=\"item.ID\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"车牌号码\">\n        <el-select v-model=\"form.vehicle\" filterable clearable multiple placeholder=\"请输入车牌号码\" class=\"tw-select\">\n          <el-option\n            v-for=\"item in vehicleoptions\"\n            :key=\"item.VEHI_ID\"\n            :label=\"item.VEHI_NO\"\n            :value=\"item.VEHI_NO\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"消息内容\">\n        <el-input type=\"textarea\" :rows=\"8\" placeholder=\"请输入消息内容\" v-model=\"form.center\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"sendOut\">发送</el-button>\n      </el-form-item>\n    </el-form>\n    <template v-slot:right>\n      <div class=\"tw-template-wrapper\">\n        <div class=\"tw-list\">\n          <div class=\"tw-list-item\" :class=\"{active: fastTextIndex === index}\" v-for=\"(item,index) in fastTextList\" :key=\"index\" @click=\"checkInfo(index)\" @dblclick=\"infoTowbk(item.INFO)\">\n            <t-icon class=\"tw-icon\" name=\"icon-arrowTria\"></t-icon>\n            <span>{{item.INFO}}</span>\n          </div>\n        </div>\n        <div style=\"text-align: center;\">\n          <el-button type=\"primary\" size=\"small\" @click=\"addInfo\">添加</el-button>\n          <el-button type=\"primary\" size=\"small\" @click=\"editInfo\">修改</el-button>\n          <el-button type=\"primary\" size=\"small\" @click=\"delInfo\">删除</el-button>\n        </div>\n      </div>\n    </template>\n    <el-dialog\n      :title=\"dialog.title\"\n      :visible.sync=\"dialog.display\"\n      :close-on-click-modal=\"false\"\n      width=\"500px\"\n      @closed=\"handleDialogClosed\"\n    >\n      <el-form class=\"tw-form\" :model=\"dialog.form\" label-width=\"80px\">\n        <el-form-item label=\"消息内容\">\n          <el-input v-model=\"dialog.form.name\" type=\"textarea\" rows=\"4\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"handleDialogCancel\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleDialogSubmit\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </t-layout>\n</template>\n\n<script>\n  import axios from 'axios'\n  import { baseURL } from 'util'\n  import _ from 'underscore'\nexport default {\n  name: 'MessageSent',\n  data() {\n    return {\n      form: {\n        company: '',\n        branchOffice: '',\n        vehicle: [],\n        center: '',\n        clz: ''\n      },\n      companyOptions: [],\n      branchOfficeOptions: [],\n      clzOptions: [],\n      fastTextIndex: null,\n      fastTextList: [],\n      vehicleoptions: [],\n      dialog: {\n        display: false,\n        title: '',\n        form: {\n          name: '',\n          id: ''\n        }\n      },\n      loginType: {\n        loginType: '',\n        compDisplay: false,\n        groupDisplay: false\n      }\n    }\n  },\n  mounted() {\n    this.getLoginType()\n    this.getInfo()\n  },\n  methods: {\n    checkInfo(index) {\n      this.fastTextIndex = index\n    },\n    infoTowbk(item) {\n      this.fastTextIndex = null\n      this.form.center = item\n    },\n    handleDialogCancel() {\n      this.dialog.display = false\n    },\n    handleDialogClosed() {\n      this.dialog.title = ''\n      this.dialog.form.name = ''\n      this.dialog.form.id = ''\n    },\n    getLoginType() {\n      let loginType = this.$cookies.get('loginType')\n      this.loginType.loginType = loginType\n      if(loginType == '0'){\n        this.loginType.compDisplay = true\n        this.getBa_select()\n      }else if(loginType == '1'){\n        this.loginType.groupDisplay = true\n        this.getClz()\n      }\n    },\n    getInfo() {\n      axios.get('map/getInfo' ,{baseURL}).then(res =>{\n        this.fastTextList = res.data\n      })\n    },\n    addInfo() {\n      this.dialog.display = true\n      this.dialog.title = '添加'\n    },\n    editInfo() {\n      if(this.fastTextIndex != null){\n        this.dialog.display = true\n        this.dialog.title = '修改'\n        this.dialog.form.id = this.fastTextList[this.fastTextIndex].ID\n        this.dialog.form.name = this.fastTextList[this.fastTextIndex].INFO\n      }else{\n        this.$message({\n          message: '请选择一条消息后修改！',\n          type: 'warning'\n        });\n      }\n    },\n    handleDialogSubmit() {\n      if(this.dialog.form.name == ''){\n        this.$message({\n          message: '消息内容必能为空！',\n          type: 'warning'\n        });\n        return;\n      }\n      let params = new URLSearchParams()\n      params.append('info', this.dialog.form.name)\n      if(this.dialog.title == '添加') {\n        axios.post('map/addInfo', params, { baseURL }).then(res => {\n          this.$message(res.data.info);\n          this.dialog.display = false\n          this.getInfo()\n        })\n      }else{\n        params.append('id', this.dialog.form.id)\n        axios.post('map/editInfo', params, { baseURL }).then(res => {\n          this.$message(res.data.info);\n          this.dialog.display = false\n          this.getInfo()\n        })\n      }\n    },\n    delInfo() {\n      if(this.fastTextIndex != null){\n        this.$confirm('此操作将永久删除该消息内容, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          let params = new URLSearchParams()\n          params.append('id', this.fastTextList[this.fastTextIndex].ID)\n          axios.post('map/delInfo', params, { baseURL }).then(res => {\n            this.$message(res.data.info);\n            this.getInfo()\n          })\n        }).catch(() => {\n        });\n      }else{\n        this.$message({\n          message: '请选择一条消息后删除！',\n          type: 'warning'\n        });\n      }\n    },\n    getBa_select() {\n      axios.get('map/getBa_select' ,{baseURL}).then(res =>{\n        this.companyOptions = res.data\n      })\n    },\n    checkComp() {\n      this.form.branchOffice = ''\n      this.form.vehicle = ''\n      let params = new URLSearchParams()\n      params.append('id', this.form.company)\n      axios.post('map/getComp_select', params, { baseURL }).then(res => {\n        this.branchOfficeOptions = res.data\n      })\n      this.checkVhic()\n    },\n    checkVhic() {\n      this.form.vehicle = ''\n      let params1 = new URLSearchParams()\n      if(this.loginType.loginType == '0'){\n        params1.append('ba_id', this.form.company)\n        params1.append('comp_id', this.form.branchOffice)\n      }else if(this.loginType.loginType == '1'){\n        params1.append('id', this.form.clz)\n      }\n      axios.post('map/getVhic_select', params1, { baseURL }).then(res => {\n        this.vehicleoptions = res.data\n      })\n    },\n    getClz() {\n      axios.get('map/getClz' ,{baseURL}).then(res =>{\n        console.log(res.data)\n        this.clzOptions = res.data\n      })\n    },\n    sendOut() {\n      console.log(this.form)\n      if(this.loginType.loginType == '0'){\n        if(this.form.company == ''){\n          this.$message({\n            message: '公司不能为空！',\n            type: 'warning'\n          });\n          return\n        }\n      }else if(this.loginType.loginType == '1'){\n        if(this.form.clz == ''){\n          this.$message({\n            message: '车辆组不能为空！',\n            type: 'warning'\n          });\n          return\n        }\n      }\n      if(this.form.center == ''){\n        this.$message({\n          message: '消息内容不能为空！',\n          type: 'warning'\n        });\n        return\n      }\n      let vehi_no = '';\n      if(this.form.vehicle.length>0){\n        _.map(this.form.vehicle, item=>{\n          vehi_no += '\\''+ item + '\\','\n        })\n        vehi_no = vehi_no.substring(0,vehi_no.length-1)\n      }\n      let params1 = new URLSearchParams()\n      if(this.loginType.loginType == '0'){\n        params1.append('ba_id', this.form.company)\n        params1.append('comp_id', this.form.branchOffice)\n      }else if(this.loginType.loginType == '1'){\n        params1.append('clz', this.form.clz)\n      }\n      params1.append('vehi_no', vehi_no)\n      params1.append('nr', this.form.center)\n      axios.post('map/sendMessage', params1, { baseURL }).then(res => {\n        this.$message('下发成功');\n        // console.log(11,res.data)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tw-template-wrapper {\n  padding: 10px;\n  box-sizing: border-box;\n}\n.tw-list {\n  max-height: calc(100% - 50px);\n  margin-bottom: 10px;\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n  cursor: pointer;\n  &-item {\n    display: flex;\n    min-height: 30px;\n    line-height: 30px;\n    border-bottom: 1px solid #dcdfe6;\n    &:last-child {\n      border-bottom: none;\n    }\n    &:hover, &.active {\n      background-color: #409eff;\n      &:first-child {\n        border-top-left-radius: inherit;\n        border-top-right-radius: inherit;\n      }\n      &:last-child {\n        border-bottom-left-radius: inherit;\n        border-bottom-right-radius: inherit;\n      }\n      .tw-icon {\n        text-shadow: 1px 1px 3px #555555;\n        color: #ffffff;\n      }\n      span {\n        text-shadow: 2px 2px 2px #555555;\n        color: #ffffff;\n      }\n    }\n    .tw-icon {\n      display: inline-block;\n      width: 30px;\n      height: 30px;\n      text-align: center;\n      color: #eeeeee;\n    }\n    span {\n      display: inline-block;\n      width: calc(100% - 30px);\n      padding: 6px 0px;\n      line-height: 1.5;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageSent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageSent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageSent.vue?vue&type=template&id=60d156bb&scoped=true&\"\nimport script from \"./MessageSent.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageSent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageSent.vue?vue&type=style&index=0&id=60d156bb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60d156bb\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageSent.vue?vue&type=style&index=0&id=60d156bb&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageSent.vue?vue&type=style&index=0&id=60d156bb&lang=scss&scoped=true&\""],"sourceRoot":""}