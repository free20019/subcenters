(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e77c866a"],{3695:function(e,t,a){},"4a2b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-wrapper"},[a("el-form",{staticClass:"tw-query-bar",attrs:{inline:!0,model:e.query,size:"small"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名"},model:{value:e.query.username,callback:function(t){e.$set(e.query,"username",t)},expression:"query.username"}},[a("i",{staticClass:"tw-icon iconfont icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleQueryClick}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddClick}},[e._v("添加")])],1)],1),a("div",{staticClass:"tw-panel-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"",size:"small",height:"calc(100% - 20px)"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",align:"right"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名",width:"240"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-edit",type:"text",size:"small"},on:{click:function(a){e.handleEditClick(t.row)}}}),a("el-button",{attrs:{icon:"el-icon-delete",type:"text",size:"small"},on:{click:function(a){e.handleDeleteClick(t.row.id)}}})]}}])})],1)],1),a("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.display,width:"30%"},on:{"update:visible":function(t){e.$set(e.dialog,"display",t)},close:e.handleDialogClose}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialog.form,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"pass"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.dialog.form.username,callback:function(t){e.$set(e.dialog.form,"username",t)},expression:"dialog.form.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"checkPass"}},[a("el-input",{attrs:{type:e.hasDisplayType,autocomplete:"off"},model:{value:e.dialog.form.password,callback:function(t){e.$set(e.dialog.form,"password",t)},expression:"dialog.form.password"}},[a("span",{staticClass:"el-button el-button--text tw-visible",class:e.hasDisplayPassword,attrs:{slot:"suffix"},on:{click:e.handleDisplayClick},slot:"suffix"})])],1),a("el-form-item",{attrs:{label:"姓名",prop:"age"}},[a("el-input",{model:{value:e.dialog.form.name,callback:function(t){e.$set(e.dialog.form,"name",e._n(t))},expression:"dialog.form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleDialogCancelClick}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleDialogSaveClick}},[e._v("确 定")])],1)],1)],1)},s=[],n=(a("7f7f"),a("cadf"),a("551c"),a("097d"),a("17fb")),o=a.n(n),l=a("bc3a"),r=a.n(l),d={name:"UserManage",data:function(){return{query:{username:""},tableList:[],tableLoading:!1,dialog:{display:!1,title:"",form:{id:"",username:"",password:"",swPwFlag:!1,name:""}}}},mounted:function(){var e=this;this.$nextTick(function(){e.getUserList()})},computed:{hasDisplayType:function(){return this.dialog.form.swPwFlag?"text":"password"},hasDisplayPassword:function(){return this.dialog.form.swPwFlag?"iconfont icon-bukejian":"iconfont icon-kejian"}},methods:{getUserList:function(){var e=this,t=this.baseURL,a=this.query.username;this.tableLoading=!0,r.a.get("company/getuser",{baseURL:t,params:{username:a}}).then(function(t){console.info("0000000"),e.tableList=t.data,e.tableLoading=!1}).catch(function(t){e.tableLoading=!1})},addUser:function(){var e=this,t=this.baseURL;r.a.post("company/adduser",this.appendParams(this.dialog.form,["username","password","name"]),{baseURL:t}).then(function(t){e.processResult(t.data.info)})},editUser:function(){var e=this,t=this.baseURL;r.a.post("company/edituser",this.appendParams(this.dialog.form,["id","username","password","name"]),{baseURL:t}).then(function(t){e.processResult(t.data.info)})},deleteUser:function(e){var t=this,a=this.baseURL;r.a.post("company/deluser",this.appendParams({id:e},["id"]),{baseURL:a}).then(function(e){t.processResult(e.data.info)})},appendParams:function(e,t){var a=new URLSearchParams;return o.a.each(e,function(e,i){t.indexOf(i)>=0&&a.append(i,e)}),a},processResult:function(e){e&&e.indexOf("成功")>=0?(this.getUserList(),this.$message({message:e,type:"success"}),this.dialog.display=!1):e&&this.$message({message:e,type:"warning"})},handleQueryClick:function(){this.getUserList(),console.info("11111")},handleAddClick:function(){this.dialog.display=!0,this.dialog.title="添加"},handleEditClick:function(e){this.dialog.display=!0,this.dialog.title="修改",this.dialog.form.id=e.id,this.dialog.form.username=e.username,this.dialog.form.password=e.password,this.dialog.form.name=e.name},handleDeleteClick:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteUser(e)})},handleDialogClose:function(){this.dialog.display=!1,this.dialog.form.id="",this.dialog.form.username="",this.dialog.form.password="",this.dialog.form.swPwFlag=!1,this.dialog.form.name=""},handleDisplayClick:function(){this.dialog.form.swPwFlag=!this.dialog.form.swPwFlag},handleDialogCancelClick:function(){this.dialog.display=!1},handleDialogSaveClick:function(){var e=this.dialog.form,t=e.id,a=e.username,i=e.password,s=e.name;return a?i?s?void(t&&"修改"===this.dialog.title?this.editUser():"添加"===this.dialog.title&&this.addUser()):this.$message({message:"请输入姓名",type:"warning"}):this.$message({message:"请输入密码",type:"warning"}):this.$message({message:"请输入用户名",type:"warning"})}}},c=d,u=(a("5749"),a("2877")),m=Object(u["a"])(c,i,s,!1,null,"10f7df64",null);m.options.__file="UserManage.vue";t["default"]=m.exports},5749:function(e,t,a){"use strict";var i=a("3695"),s=a.n(i);s.a},"7f7f":function(e,t,a){var i=a("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,o="name";o in s||a("9e1e")&&i(s,o,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-e77c866a.d2815c08.js.map